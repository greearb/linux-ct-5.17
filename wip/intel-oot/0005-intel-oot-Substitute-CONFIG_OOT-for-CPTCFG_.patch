From c01c1e202305488f9e5bc85a9cd294a78b54c7cb Mon Sep 17 00:00:00 2001
From: Ben Greear <greearb@candelatech.com>
Date: Mon, 24 May 2021 14:28:54 -0700
Subject: [PATCH 05/15] intel-oot:  Substitute CONFIG_OOT for CPTCFG_

Done by tools/iwlwifi_oot_to_kernel.bash

Signed-off-by: Ben Greear <greearb@candelatech.com>
---
 drivers/net/wireless/intel-oot/Makefile       |  2 +-
 .../net/wireless/intel-oot/iwlwifi/Makefile   | 26 ++---
 .../net/wireless/intel-oot/iwlwifi/fw/acpi.c  |  2 +-
 .../net/wireless/intel-oot/iwlwifi/fw/dbg.c   |  8 +-
 .../net/wireless/intel-oot/iwlwifi/fw/dbg.h   |  6 +-
 .../wireless/intel-oot/iwlwifi/fw/debugfs.h   |  4 +-
 .../net/wireless/intel-oot/iwlwifi/fw/file.h  |  4 +-
 .../net/wireless/intel-oot/iwlwifi/fw/pnvm.h  |  2 +-
 .../wireless/intel-oot/iwlwifi/fw/runtime.h   |  4 +-
 .../wireless/intel-oot/iwlwifi/fw/testmode.h  |  4 +-
 .../wireless/intel-oot/iwlwifi/iwl-config.h   | 14 +--
 .../wireless/intel-oot/iwlwifi/iwl-dbg-cfg.c  |  6 +-
 .../wireless/intel-oot/iwlwifi/iwl-dbg-cfg.h  | 20 ++--
 .../wireless/intel-oot/iwlwifi/iwl-debug.c    |  4 +-
 .../wireless/intel-oot/iwlwifi/iwl-debug.h    | 12 +--
 .../intel-oot/iwlwifi/iwl-devtrace-iwlwifi.h  |  2 +-
 .../wireless/intel-oot/iwlwifi/iwl-devtrace.h |  2 +-
 .../wireless/intel-oot/iwlwifi/iwl-dnt-cfg.c  |  8 +-
 .../wireless/intel-oot/iwlwifi/iwl-dnt-cfg.h  |  2 +-
 .../net/wireless/intel-oot/iwlwifi/iwl-drv.c  | 94 +++++++++----------
 .../net/wireless/intel-oot/iwlwifi/iwl-drv.h  |  2 +-
 .../net/wireless/intel-oot/iwlwifi/iwl-io.c   |  4 +-
 .../intel-oot/iwlwifi/iwl-modparams.h         |  4 +-
 .../intel-oot/iwlwifi/iwl-nvm-parse.c         | 14 +--
 .../wireless/intel-oot/iwlwifi/iwl-op-mode.h  |  6 +-
 .../wireless/intel-oot/iwlwifi/iwl-phy-db.c   |  4 +-
 .../wireless/intel-oot/iwlwifi/iwl-phy-db.h   |  2 +-
 .../wireless/intel-oot/iwlwifi/iwl-tm-gnl.c   |  4 +-
 .../wireless/intel-oot/iwlwifi/iwl-trans.h    | 18 ++--
 .../intel-oot/iwlwifi/iwl-vendor-cmd.h        |  2 +-
 .../wireless/intel-oot/iwlwifi/mei/Makefile   |  4 +-
 .../wireless/intel-oot/iwlwifi/mei/iwl-mei.h  |  4 +-
 .../wireless/intel-oot/iwlwifi/mvm/Makefile   | 10 +-
 .../intel-oot/iwlwifi/mvm/constants.h         |  6 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/d3.c   | 10 +-
 .../wireless/intel-oot/iwlwifi/mvm/debugfs.c  | 24 ++---
 .../intel-oot/iwlwifi/mvm/ftm-initiator.c     | 18 ++--
 .../intel-oot/iwlwifi/mvm/ftm-responder.c     |  2 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/fw.c   | 30 +++---
 .../wireless/intel-oot/iwlwifi/mvm/mac-ctxt.c |  6 +-
 .../wireless/intel-oot/iwlwifi/mvm/mac80211.c | 58 ++++++------
 .../net/wireless/intel-oot/iwlwifi/mvm/mvm.h  | 56 +++++------
 .../net/wireless/intel-oot/iwlwifi/mvm/nvm.c  |  2 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/ops.c  | 68 +++++++-------
 .../wireless/intel-oot/iwlwifi/mvm/phy-ctxt.c |  2 +-
 .../wireless/intel-oot/iwlwifi/mvm/power.c    | 14 +--
 .../wireless/intel-oot/iwlwifi/mvm/quota.c    | 12 +--
 .../wireless/intel-oot/iwlwifi/mvm/rs-fw.c    | 14 +--
 .../net/wireless/intel-oot/iwlwifi/mvm/rs.c   | 22 ++---
 .../net/wireless/intel-oot/iwlwifi/mvm/rs.h   | 14 +--
 .../net/wireless/intel-oot/iwlwifi/mvm/rx.c   |  8 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/rxmq.c |  4 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/scan.c |  8 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/tdls.c |  4 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/tt.c   |  2 +-
 .../net/wireless/intel-oot/iwlwifi/mvm/tx.c   | 20 ++--
 .../wireless/intel-oot/iwlwifi/mvm/utils.c    | 10 +-
 .../intel-oot/iwlwifi/mvm/vendor-cmd.c        | 12 +--
 .../net/wireless/intel-oot/iwlwifi/pcie/drv.c | 16 ++--
 .../intel-oot/iwlwifi/pcie/internal.h         | 14 +--
 .../intel-oot/iwlwifi/pcie/trans-gen2.c       |  2 +-
 .../wireless/intel-oot/iwlwifi/pcie/trans.c   | 22 ++---
 .../net/wireless/intel-oot/iwlwifi/queue/tx.c |  2 +-
 .../wireless/intel-oot/iwlwifi/xvt/Makefile   |  4 +-
 .../intel-oot/iwlwifi/xvt/constants.h         |  6 +-
 .../wireless/intel-oot/iwlwifi/xvt/debugfs.c  |  4 +-
 .../net/wireless/intel-oot/iwlwifi/xvt/fw.c   |  4 +-
 .../intel-oot/iwlwifi/xvt/user-infc.c         |  6 +-
 .../net/wireless/intel-oot/iwlwifi/xvt/xvt.h  |  4 +-
 69 files changed, 407 insertions(+), 407 deletions(-)

diff --git a/drivers/net/wireless/intel-oot/Makefile b/drivers/net/wireless/intel-oot/Makefile
index 2911c4fa9c8a2..41f7ef3119b55 100644
--- a/drivers/net/wireless/intel-oot/Makefile
+++ b/drivers/net/wireless/intel-oot/Makefile
@@ -4,4 +4,4 @@
 #
 #obj-$(CONFIG_IWLEGACY)	+= iwlegacy/

-obj-$(CPTCFG_IWLWIFI)	+= iwlwifi/
+obj-$(CONFIG_OOT_IWLWIFI)	+= iwlwifi/
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/Makefile b/drivers/net/wireless/intel-oot/iwlwifi/Makefile
index 328364e20a784..b63c1f5d16785 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/Makefile
+++ b/drivers/net/wireless/intel-oot/iwlwifi/Makefile
@@ -1,6 +1,6 @@
 # SPDX-License-Identifier: GPL-2.0
 # common
-obj-$(CPTCFG_IWLWIFI)	+= iwlwifi.o
+obj-$(CONFIG_OOT_IWLWIFI)	+= iwlwifi.o
 iwlwifi-objs		+= iwl-io.o
 iwlwifi-objs		+= iwl-drv.o
 iwlwifi-objs		+= iwl-debug.o
@@ -12,9 +12,9 @@ iwlwifi-objs		+= queue/tx.o

 iwlwifi-objs		+= fw/img.o fw/notif-wait.o
 iwlwifi-objs		+= fw/dbg.o fw/pnvm.o fw/dump.o
-iwlwifi-$(CPTCFG_IWLMVM)	+= fw/paging.o fw/smem.o fw/init.o
-iwlwifi-$(CPTCFG_IWLXVT)	+= fw/init.o
-iwlwifi-$(CPTCFG_IWLWIFI_DEBUGFS) += fw/debugfs.o
+iwlwifi-$(CONFIG_OOT_IWLMVM)	+= fw/paging.o fw/smem.o fw/init.o
+iwlwifi-$(CONFIG_OOT_IWLXVT)	+= fw/init.o
+iwlwifi-$(CONFIG_OOT_IWLWIFI_DEBUGFS) += fw/debugfs.o

 iwlwifi-$(CONFIG_ACPI)	+= fw/acpi.o
 iwlwifi-$(CONFIG_EFI)	+= fw/uefi.o
@@ -23,25 +23,25 @@ iwlwifi-$(CONFIG_EFI)	+= fw/uefi.o
 iwlwifi-$(CONFIG_PCI) += pcie/drv.o pcie/rx.o pcie/tx.o pcie/trans.o
 iwlwifi-$(CONFIG_PCI) += pcie/ctxt-info.o pcie/ctxt-info-gen3.o pcie/trans-gen2.o pcie/tx-gen2.o

-iwlwifi-$(CPTCFG_IWLMVM) += cfg/7000.o cfg/8000.o
-iwlwifi-$(CPTCFG_IWLMVM) += cfg/9000.o cfg/22000.o
+iwlwifi-$(CONFIG_OOT_IWLMVM) += cfg/7000.o cfg/8000.o
+iwlwifi-$(CONFIG_OOT_IWLMVM) += cfg/9000.o cfg/22000.o

-iwlwifi-$(CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES) += iwl-dbg-cfg.o
+iwlwifi-$(CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES) += iwl-dbg-cfg.o

 iwlwifi-objs += $(iwlwifi-m)
 iwlwifi-objs += $(iwlwifi-y)

-iwlwifi-$(CPTCFG_IWLWIFI_DEVICE_TRACING) += iwl-devtrace.o
-iwlwifi-$(CPTCFG_IWLWIFI_DEVICE_TESTMODE) += iwl-tm-gnl.o iwl-dnt-cfg.o iwl-dnt-dispatch.o
-iwlwifi-$(CPTCFG_IWLWIFI_DEVICE_TESTMODE) += iwl-dnt-dev-if.o fw/testmode.o
+iwlwifi-$(CONFIG_OOT_IWLWIFI_DEVICE_TRACING) += iwl-devtrace.o
+iwlwifi-$(CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE) += iwl-tm-gnl.o iwl-dnt-cfg.o iwl-dnt-dispatch.o
+iwlwifi-$(CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE) += iwl-dnt-dev-if.o fw/testmode.o

 ccflags-y += -I$(src)
 subdir-ccflags-y += $(call cc-option,-Wimplicit-fallthrough)

-obj-$(CPTCFG_IWLMVM)	+= mvm/
-obj-$(CPTCFG_IWLXVT)	+= xvt/
+obj-$(CONFIG_OOT_IWLMVM)	+= mvm/
+obj-$(CONFIG_OOT_IWLXVT)	+= xvt/

-obj-$(CPTCFG_IWLMEI)	+= mei/
+obj-$(CONFIG_OOT_IWLMEI)	+= mei/

 CFLAGS_iwl-devtrace.o := -I$(src)

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/acpi.c b/drivers/net/wireless/intel-oot/iwlwifi/fw/acpi.c
index ece6a3eb5d2aa..896bbc860200f 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/acpi.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/acpi.c
@@ -506,7 +506,7 @@ int iwl_sar_select_profile(struct iwl_fw_runtime *fwrt,
			break;
	}

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	fwrt->sar_chain_a_profile = prof_a;
	fwrt->sar_chain_b_profile = prof_b;
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.c b/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.c
index f03ce91278968..e546e8d8cf1d7 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.c
@@ -2626,8 +2626,8 @@ int iwl_fw_start_dbg_conf(struct iwl_fw_runtime *fwrt, u8 conf_id)
		IWL_INFO(fwrt, "FW already configured (%d) - re-configuring\n",
			 fwrt->dump.conf);

-#if IS_ENABLED(CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES) && \
-	(IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC))
+#if IS_ENABLED(CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES) && \
+	(IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC))
	/* start default config marker cmd for syncing logs */
	if (fwrt->trans->dbg_cfg.enable_timestamp_marker_cmd)
		iwl_fw_trigger_timestamp(fwrt, 1);
@@ -2678,7 +2678,7 @@ static void iwl_fw_dbg_collect_sync(struct iwl_fw_runtime *fwrt, u8 wk_idx)
		IWL_ERR(fwrt, "Skip fw error dump since bus is dead\n");
		goto out;
	}
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (fwrt->trans->dbg_cfg.disable_wrt_dump) {
		IWL_DEBUG_FW_INFO(fwrt, "WRT: Data collection disabled\n");
		goto out;
@@ -2886,7 +2886,7 @@ void iwl_fw_dbg_stop_restart_recording(struct iwl_fw_runtime *fwrt,
		iwl_fw_dbg_stop_recording(fwrt->trans, params);
	else
		ret = iwl_fw_dbg_restart_recording(fwrt->trans, params);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (!ret) {
		if (stop)
			fwrt->trans->dbg.rec_on = false;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.h
index a36e40294cadd..4ed1548589049 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/dbg.h
@@ -175,7 +175,7 @@ void iwl_fw_dbg_stop_restart_recording(struct iwl_fw_runtime *fwrt,
				       struct iwl_fw_dbg_params *params,
				       bool stop);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 static inline void iwl_fw_set_dbg_rec_on(struct iwl_fw_runtime *fwrt)
 {
	if (fwrt->cur_fw_img == IWL_UCODE_REGULAR &&
@@ -227,7 +227,7 @@ static inline void iwl_fw_flush_dumps(struct iwl_fw_runtime *fwrt)
		flush_delayed_work(&fwrt->dump.wks[i].wk);
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 static inline void iwl_fw_cancel_timestamp(struct iwl_fw_runtime *fwrt)
 {
	fwrt->timestamp.delay = 0;
@@ -261,7 +261,7 @@ static inline void iwl_fw_suspend_timestamp(struct iwl_fw_runtime *fwrt) {}

 static inline void iwl_fw_resume_timestamp(struct iwl_fw_runtime *fwrt) {}

-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */

 static inline void iwl_fw_lmac1_set_alive_err_table(struct iwl_trans *trans,
						    u32 lmac_error_event_table)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/debugfs.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/debugfs.h
index b98ce58de2fbc..e606d2decffbe 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/debugfs.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/debugfs.h
@@ -6,7 +6,7 @@
  */
 #include "runtime.h"

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_fwrt_dbgfs_register(struct iwl_fw_runtime *fwrt,
			    struct dentry *dbgfs_dir);

@@ -14,4 +14,4 @@ void iwl_fwrt_dbgfs_register(struct iwl_fw_runtime *fwrt,
 static inline void iwl_fwrt_dbgfs_register(struct iwl_fw_runtime *fwrt,
					   struct dentry *dbgfs_dir) { }

-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/file.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/file.h
index d9af71c4e5a3c..be8abe7c7377a 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/file.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/file.h
@@ -363,13 +363,13 @@ typedef unsigned int __bitwise iwl_ucode_tlv_capa_t;
  * @IWL_UCODE_TLV_CAPA_LQM_SUPPORT: supports Link Quality Measurement
  * @IWL_UCODE_TLV_CAPA_LMAC_UPLOAD: supports upload mode in lmac (1=supported,
  *	0=no support)
-#ifdef CPTCFG_IWLMVM_AX_SOFTAP_TESTMODE
+#ifdef CONFIG_OOT_IWLMVM_AX_SOFTAP_TESTMODE
  * @IWL_UCODE_TLV_CAPA_AX_SAP_TM_V2: support 11ax softap testmode APIs version 2
 #endif
  * @IWL_UCODE_TLV_CAPA_TX_POWER_ACK: reduced TX power API has larger
  *	command size (command version 4) that supports toggling ACK TX
  *	power reduction.
-#ifdef CPTCFG_IWLMVM_AX_SOFTAP_TESTMODE
+#ifdef CONFIG_OOT_IWLMVM_AX_SOFTAP_TESTMODE
  * @IWL_UCODE_TLV_CAPA_AX_SAP_TM: support 11ax softap testmode APIs
 #endif
  * @IWL_UCODE_TLV_CAPA_D3_DEBUG: supports debug recording during D3
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/pnvm.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/pnvm.h
index adb65ff6a8c3a..019b80262392b 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/pnvm.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/pnvm.h
@@ -10,7 +10,7 @@

 #include "fw/notif-wait.h"

-#define MVM_UCODE_PNVM_TIMEOUT	(HZ / 4 * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define MVM_UCODE_PNVM_TIMEOUT	(HZ / 4 * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 #define MAX_PNVM_NAME  64

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/runtime.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/runtime.h
index 50559f2eb9646..db03de46d79ac 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/runtime.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/runtime.h
@@ -138,14 +138,14 @@ struct iwl_fw_runtime {
			u32 umac_minor;
		} fw_ver;
	} dump;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	struct {
		struct delayed_work wk;
		u32 delay;
		u64 seq;
	} timestamp;
	bool tpc_enabled;
-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */
 #ifdef CONFIG_ACPI
	struct iwl_sar_profile sar_profiles[ACPI_SAR_PROFILE_NUM];
	u8 sar_chain_a_profile;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/fw/testmode.h b/drivers/net/wireless/intel-oot/iwlwifi/fw/testmode.h
index 23a7e7d167601..17799f407e15e 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/fw/testmode.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/fw/testmode.h
@@ -6,7 +6,7 @@
 #ifndef __IWL_TESTMODE_H__
 #define __IWL_TESTMODE_H__

-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
 /**
  * enum iwl_testmode_attrs - testmode attributes inside
  *	NL80211_ATTR_TESTDATA
@@ -39,7 +39,7 @@ enum iwl_testmode_commands {
 };
 #endif

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 struct iwl_host_cmd;
 struct iwl_rx_cmd_buffer;

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-config.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-config.h
index b4e64fb9fa11e..b604a8e6ff76e 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-config.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-config.h
@@ -77,9 +77,9 @@ enum iwl_nvm_type {

 /* TX queue watchdog timeouts in mSecs */
 #define IWL_WATCHDOG_DISABLED	0
-#define IWL_DEF_WD_TIMEOUT	(2500 * CPTCFG_IWL_TIMEOUT_FACTOR)
-#define IWL_LONG_WD_TIMEOUT	(10000 * CPTCFG_IWL_TIMEOUT_FACTOR)
-#define IWL_MAX_WD_TIMEOUT	(120000 * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define IWL_DEF_WD_TIMEOUT	(2500 * CONFIG_OOT_IWL_TIMEOUT_FACTOR)
+#define IWL_LONG_WD_TIMEOUT	(10000 * CONFIG_OOT_IWL_TIMEOUT_FACTOR)
+#define IWL_MAX_WD_TIMEOUT	(120000 * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 #define IWL_DEFAULT_MAX_TX_POWER 22
 #define IWL_TX_CSUM_NETIF_FLAGS (NETIF_F_IPV6_CSUM | NETIF_F_IP_CSUM |\
@@ -516,7 +516,7 @@ extern const char iwl_ax221_name[];
 extern const char iwl_ax231_name[];
 extern const char iwl_ax411_name[];
 extern const char iwl_bz_name[];
-#if IS_ENABLED(CPTCFG_IWLMVM)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM)
 extern const struct iwl_cfg iwl7260_2ac_cfg;
 extern const struct iwl_cfg iwl7260_2ac_cfg_high_temp;
 extern const struct iwl_cfg iwl7260_2n_cfg;
@@ -537,8 +537,8 @@ extern const struct iwl_cfg iwl8260_2ac_cfg;
 extern const struct iwl_cfg iwl8265_2ac_cfg;
 extern const struct iwl_cfg iwl8275_2ac_cfg;
 extern const struct iwl_cfg iwl4165_2ac_cfg;
-#endif /* IS_ENABLED(CPTCFG_IWLMVM) */
-#if IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC)
+#endif /* IS_ENABLED(CONFIG_OOT_IWLMVM) */
+#if IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC)
 extern const struct iwl_cfg iwl9260_2ac_cfg;
 extern const struct iwl_cfg iwl9560_qu_b0_jf_b0_cfg;
 extern const struct iwl_cfg iwl9560_qu_c0_jf_b0_cfg;
@@ -586,6 +586,6 @@ extern const struct iwl_cfg iwl_cfg_bz_a0_hr_b0;
 extern const struct iwl_cfg iwl_cfg_bz_a0_gf_a0;
 extern const struct iwl_cfg iwl_cfg_bz_a0_gf4_a0;
 extern const struct iwl_cfg iwl_cfg_bz_a0_mr_a0;
-#endif /* CPTCFG_IWLMVM || CPTCFG_IWLFMAC */
+#endif /* CONFIG_OOT_IWLMVM || CONFIG_OOT_IWLFMAC */

 #endif /* __IWL_CONFIG_H__ */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.c
index f8bccf5992cc2..40c36eaef5ccb 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.c
@@ -12,12 +12,12 @@
 #include "iwl-modparams.h"

 /* grab default values */
-#undef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#undef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #include "fw/runtime.h"
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 #include "xvt/constants.h"
 #endif
-#if IS_ENABLED(CPTCFG_IWLMVM)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM)
 #include "mvm/constants.h"
 #endif

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.h
index 01547e7f8de78..23b3ec654bc44 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dbg-cfg.h
@@ -36,7 +36,7 @@ struct iwl_dbg_cfg {
 #define IWL_DBG_CFG_FN(name, fn)	/* nothing */

 #endif /* DBG_CFG_REINCLUDE */
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	IWL_DBG_CFG(u32, XVT_DEFAULT_DBGM_MEM_POWER)
	IWL_DBG_CFG(u32, XVT_DEFAULT_DBGM_LMAC_MASK)
	IWL_DBG_CFG(u32, XVT_DEFAULT_DBGM_PRPH_MASK)
@@ -45,7 +45,7 @@ struct iwl_dbg_cfg {
	IWL_DBG_CFG_NODEF(bool, disable_wrt_dump)
	IWL_DBG_CFG_NODEF(bool, disable_52GHz)
	IWL_DBG_CFG_NODEF(bool, disable_24GHz)
-#if IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC)
	IWL_DBG_CFG_NODEF(u32, MVM_CALIB_OVERRIDE_CONTROL)
	IWL_DBG_CFG_NODEF(u32, MVM_CALIB_INIT_FLOW)
	IWL_DBG_CFG_NODEF(u32, MVM_CALIB_INIT_EVENT)
@@ -56,7 +56,7 @@ struct iwl_dbg_cfg {
	IWL_DBG_CFG_NODEF(bool, enable_timestamp_marker_cmd)
 #endif
	IWL_DBG_CFG_NODEF(bool, STARTUP_RFKILL)
-#if IS_ENABLED(CPTCFG_IWLMVM)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM)
	IWL_DBG_CFG(u32, MVM_DEFAULT_PS_TX_DATA_TIMEOUT)
	IWL_DBG_CFG(u32, MVM_DEFAULT_PS_RX_DATA_TIMEOUT)
	IWL_DBG_CFG(u32, MVM_WOWLAN_PS_TX_DATA_TIMEOUT)
@@ -175,8 +175,8 @@ struct iwl_dbg_cfg {
	IWL_DBG_CFG_STR(ppag_allowed)
	IWL_DBG_CFG(u32, MVM_6GHZ_PASSIVE_SCAN_TIMEOUT)
	IWL_DBG_CFG(u32, MVM_6GHZ_PASSIVE_SCAN_ASSOC_TIMEOUT)
-#endif /* CPTCFG_IWLMVM */
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#endif /* CONFIG_OOT_IWLMVM */
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	IWL_DBG_CFG_NODEF(u32, dnt_out_mode)
	/* XXX: should be dbgm_ or dbg_mon_ for consistency? */
	IWL_DBG_CFG_NODEF(u32, dbm_destination_path)
@@ -226,7 +226,7 @@ struct iwl_dbg_cfg {
	IWL_DBG_CFG_NODEF(u32, dbg_mon_buff_base_addr_reg_addr_b_step)
	IWL_DBG_CFG_NODEF(u32, dbg_mon_buff_end_addr_reg_addr_b_step)
	IWL_DBG_CFG_NODEF(u32, dbg_mon_wr_ptr_addr_b_step)
-#endif /* CPTCFG_IWLWIFI_DEVICE_TESTMODE */
+#endif /* CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE */
	IWL_DBG_CFG_BIN(hw_address)
	IWL_DBG_CFG_STR(fw_dbg_conf)
	IWL_DBG_CFG_STR(nvm_file)
@@ -264,12 +264,12 @@ struct iwl_dbg_cfg {
	IWL_DBG_CFG_FN(FW_DBG_PRESET, iwl_dbg_cfg_parse_fw_dbg_preset)
	IWL_DBG_CFG_NODEF(bool, he_smps_disabled)
	IWL_DBG_CFG_NODEF(bool, ht_dynamic_smps)
-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	IWL_MOD_PARAM(u32, debug_level)
-#endif /* CPTCFG_IWLWIFI_DEBUG */
-#ifdef CPTCFG_IWLWIFI_DISALLOW_OLDER_FW
+#endif /* CONFIG_OOT_IWLWIFI_DEBUG */
+#ifdef CONFIG_OOT_IWLWIFI_DISALLOW_OLDER_FW
	IWL_DBG_CFG_NODEF(bool, load_old_fw)
-#endif /* CPTCFG_IWLWIFI_DISALLOW_OLDER_FW */
+#endif /* CONFIG_OOT_IWLWIFI_DISALLOW_OLDER_FW */
 #undef IWL_DBG_CFG
 #undef IWL_DBG_CFG_STR
 #undef IWL_DBG_CFG_NODEF
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.c
index f26801feeade0..dc3ee22e3797b 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.c
@@ -60,7 +60,7 @@ void __iwl_err(struct device *dev, bool rfkill_prefix, bool trace_only,
 }
 IWL_EXPORT_SYMBOL(__iwl_err);

-#if defined(CPTCFG_IWLWIFI_DEBUG) || defined(CPTCFG_IWLWIFI_DEVICE_TRACING)
+#if defined(CONFIG_OOT_IWLWIFI_DEBUG) || defined(CONFIG_OOT_IWLWIFI_DEVICE_TRACING)
 void __iwl_dbg(struct device *dev,
	       u32 level, bool limit, const char *function,
	       const char *fmt, ...)
@@ -71,7 +71,7 @@ void __iwl_dbg(struct device *dev,
	va_list args;

	va_start(args, fmt);
-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	if (iwl_have_debug_level(level) &&
	    (!limit || net_ratelimit())) {
		va_list args2;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.h
index 9aebed2eb3939..0ccb7546d0143 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-debug.h
@@ -20,7 +20,7 @@

 static inline bool iwl_have_debug_level(u32 level)
 {
-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	return iwlwifi_mod_params.debug_level & level;
 #else
	return false;
@@ -66,7 +66,7 @@ void __iwl_crit(struct device *dev, const char *fmt, ...) __printf(2, 3);
		__iwl_crit((m)->dev, f, ## a);				\
	} while (0)

-#if defined(CPTCFG_IWLWIFI_DEBUG) || defined(CPTCFG_IWLWIFI_DEVICE_TRACING)
+#if defined(CONFIG_OOT_IWLWIFI_DEBUG) || defined(CONFIG_OOT_IWLWIFI_DEVICE_TRACING)
 void __iwl_dbg(struct device *dev,
	       u32 level, bool limit, const char *function,
	       const char *fmt, ...) __printf(5, 6);
@@ -96,7 +96,7 @@ do {									\
 #define IWL_DEBUG_LIMIT(m, level, fmt, args...)				\
	__IWL_DEBUG_DEV((m)->dev, level, true, fmt, ##args)

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
 #define iwl_print_hex_dump(m, level, p, len)				\
 do {                                            			\
	if (iwl_have_debug_level(level))				\
@@ -105,7 +105,7 @@ do {                                            			\
 } while (0)
 #else
 #define iwl_print_hex_dump(m, level, p, len)
-#endif				/* CPTCFG_IWLWIFI_DEBUG */
+#endif				/* CONFIG_OOT_IWLWIFI_DEBUG */

 /*
  * To use the debug system:
@@ -124,10 +124,10 @@ do {                                            			\
  * The active debug levels can be accessed via files
  *
  *	/sys/module/iwlwifi/parameters/debug
- * when CPTCFG_IWLWIFI_DEBUG=y.
+ * when CONFIG_OOT_IWLWIFI_DEBUG=y.
  *
  *	/sys/kernel/debug/phy0/iwlwifi/debug/debug_level
- * when CPTCFG_IWLWIFI_DEBUGFS=y.
+ * when CONFIG_OOT_IWLWIFI_DEBUGFS=y.
  *
  */

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace-iwlwifi.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace-iwlwifi.h
index 117a337bfaa29..50cee7f106256 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace-iwlwifi.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace-iwlwifi.h
@@ -137,7 +137,7 @@ TRACE_EVENT(iwlwifi_dev_ucode_event,
		  __get_str(dev), __entry->time, __entry->data, __entry->ev)
 );

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	TRACE_EVENT(iwlwifi_dev_dnt_data,
	TP_PROTO(const struct device *dev,
		 void *dnt_data, size_t len),
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace.h
index 556c6f9504f36..a3073e71f348b 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-devtrace.h
@@ -77,7 +77,7 @@ static inline size_t iwl_rx_trace_len(const struct iwl_trans *trans,
 #include <linux/device.h>


-#if !defined(CPTCFG_IWLWIFI_DEVICE_TRACING) || defined(__CHECKER__)
+#if !defined(CONFIG_OOT_IWLWIFI_DEVICE_TRACING) || defined(__CHECKER__)
 #undef TRACE_EVENT
 #define TRACE_EVENT(name, proto, ...) \
 static inline void trace_ ## name(proto) {}
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.c
index e65ac954278d0..9cd0a4f05e130 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.c
@@ -17,7 +17,7 @@
 #include "iwl-dnt-dispatch.h"
 #include "iwl-dnt-dev-if.h"

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS

 /*
  * iwl_dnt_debugfs_log_read - returns ucodeMessages to the user.
@@ -200,7 +200,7 @@ void iwl_dnt_start(struct iwl_trans *trans)
 }
 IWL_EXPORT_SYMBOL(iwl_dnt_start);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 static int iwl_dnt_conf_ucode_msgs_via_rx(struct iwl_trans *trans, u32 output)
 {
	struct iwl_dnt *dnt = trans->tmdev->dnt;
@@ -240,7 +240,7 @@ void iwl_dnt_init(struct iwl_trans *trans, struct dentry *dbgfs_dir)

	dnt->dev = trans->dev;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	ret = iwl_dnt_register_debugfs_entries(trans, dbgfs_dir);
	if (!ret) {
		IWL_ERR(trans, "Failed to create dnt debugfs entries\n");
@@ -271,7 +271,7 @@ void iwl_dnt_free(struct iwl_trans *trans)
	if (!dnt)
		return;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	debugfs_remove_recursive(dnt->debugfs_entry);
	if (dnt->debugfs_counter) {
		IWL_INFO(trans, "waiting for dnt debugfs release (cnt=%d)\n",
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.h
index d84fed1d7c96e..79df215927f87 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-dnt-cfg.h
@@ -196,7 +196,7 @@ struct iwl_dnt {
	u32 cur_mon_mode;

	struct iwl_dnt_dispatch dispatch;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	u8 debugfs_counter;
	wait_queue_head_t debugfs_waitq;
	struct dentry *debugfs_entry;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.c
index f0b557ba7e579..4951a3430a793 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.c
@@ -22,10 +22,10 @@
 #include "iwl-modparams.h"
 #include "fw/api/alive.h"
 #include "fw/api/mac.h"
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #include "iwl-dbg-cfg.h"
 #endif
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "iwl-tm-gnl.h"
 #endif

@@ -40,7 +40,7 @@ MODULE_DESCRIPTION(DRV_DESCRIPTION);
 MODULE_AUTHOR(DRV_AUTHOR);
 MODULE_LICENSE("GPL");

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 static struct dentry *iwl_dbgfs_root;
 #endif

@@ -65,7 +65,7 @@ struct iwl_drv {
	struct iwl_op_mode *op_mode;
	struct iwl_trans *trans;
	struct device *dev;
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	bool xvt_mode_on;
 #endif

@@ -74,7 +74,7 @@ struct iwl_drv {

	struct completion request_firmware_complete;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	struct dentry *dbgfs_drv;
	struct dentry *dbgfs_trans;
	struct dentry *dbgfs_op_mode;
@@ -84,7 +84,7 @@ struct iwl_drv {
 enum {
	DVM_OP_MODE,
	MVM_OP_MODE,
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	XVT_OP_MODE,
 #endif
 };
@@ -98,12 +98,12 @@ static struct iwlwifi_opmode_table {
 } iwlwifi_opmode_table[] = {		/* ops set when driver is initialized */
	[DVM_OP_MODE] = { .name = "iwldvm", .ops = NULL },
	[MVM_OP_MODE] = { .name = "iwlmvm", .ops = NULL },
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	[XVT_OP_MODE] = { .name = "iwlxvt", .ops = NULL },
 #endif
 };

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 /* kernel object for a device dedicated
  * folder in the sysfs */
 static struct kobject *iwl_kobj;
@@ -296,7 +296,7 @@ static void iwl_remove_sysfs_file(struct iwl_drv *drv)
	sysfs_remove_link(iwl_kobj, dev_name(drv->dev));
	device_remove_file(drv->dev, &dev_attr_op_mode);
 }
-#endif /* CPTCFG_IWLXVT */
+#endif /* CONFIG_OOT_IWLXVT */

 #define IWL_DEFAULT_SCAN_CHANNELS 40

@@ -372,7 +372,7 @@ static int iwl_request_firmware(struct iwl_drv *drv, bool first)
 {
	const struct iwl_cfg *cfg = drv->trans->cfg;
	char tag[8];
-#if defined(CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES)
+#if defined(CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES)
	char fw_name_temp[64];
 #endif

@@ -393,13 +393,13 @@ static int iwl_request_firmware(struct iwl_drv *drv, bool first)
		sprintf(tag, "%d", drv->fw_index);
	}

-#ifdef CPTCFG_IWLWIFI_DISALLOW_OLDER_FW
+#ifdef CONFIG_OOT_IWLWIFI_DISALLOW_OLDER_FW
	/* The dbg-cfg check here works because the first time we get
	 * here we always load the 'api_max' version, and once that
	 * has returned we load the dbg-cfg file.
	 */
	if ((drv->fw_index != cfg->ucode_api_max
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	     && !drv->trans->dbg_cfg.load_old_fw
 #endif
	    ) ||
@@ -427,14 +427,14 @@ static int iwl_request_firmware(struct iwl_drv *drv, bool first)
	snprintf(drv->firmware_name, sizeof(drv->firmware_name), "%s%s.ucode",
		 cfg->fw_name_pre, tag);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (drv->trans->dbg_cfg.fw_file_pre) {
		snprintf(fw_name_temp, sizeof(fw_name_temp), "%s%s",
			 drv->trans->dbg_cfg.fw_file_pre, drv->firmware_name);
		strncpy(drv->firmware_name, fw_name_temp,
			sizeof(drv->firmware_name));
	}
-#endif /* CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
+#endif /* CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */

	IWL_DEBUG_FW_INFO(drv, "attempting to load firmware '%s'\n",
			  drv->firmware_name);
@@ -804,7 +804,7 @@ static int iwl_parse_tlv_firmware(struct iwl_drv *drv,
	int num_of_cpus;
	bool usniffer_req = false;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (ucode->magic == cpu_to_le32(IWL_TLV_FW_DBG_MAGIC)) {
		size_t dbg_data_ofs = offsetof(struct iwl_tlv_ucode_header,
					       human_readable);
@@ -849,7 +849,7 @@ static int iwl_parse_tlv_firmware(struct iwl_drv *drv,

	len -= sizeof(*ucode);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 fw_dbg_conf:
 #endif

@@ -1036,7 +1036,7 @@ static int iwl_parse_tlv_firmware(struct iwl_drv *drv,
			if (tlv_len != sizeof(u32))
				goto invalid_tlv_len;
			drv->fw.phy_config = le32_to_cpup((__le32 *)tlv_data);
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
			if (drv->trans->dbg_cfg.valid_ants & ~ANT_ABC)
				IWL_ERR(drv,
					"Invalid value for antennas: 0x%x\n",
@@ -1148,8 +1148,8 @@ static int iwl_parse_tlv_firmware(struct iwl_drv *drv,
				break;
			}

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
			if (drv->trans->dbg_cfg.dbm_destination_path) {
				IWL_ERR(drv,
					"Ignoring destination, ini file present\n");
@@ -1554,7 +1554,7 @@ _iwl_op_mode_start(struct iwl_drv *drv, struct iwlwifi_opmode_table *op)
	struct dentry *dbgfs_dir = NULL;
	struct iwl_op_mode *op_mode = NULL;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	drv->dbgfs_op_mode = debugfs_create_dir(op->name,
						drv->dbgfs_drv);
	dbgfs_dir = drv->dbgfs_op_mode;
@@ -1563,7 +1563,7 @@ _iwl_op_mode_start(struct iwl_drv *drv, struct iwlwifi_opmode_table *op)
	op_mode = ops->start(drv->trans, drv->trans->cfg, &drv->fw, dbgfs_dir);

	if (!op_mode) {
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
		debugfs_remove_recursive(drv->dbgfs_op_mode);
		drv->dbgfs_op_mode = NULL;
		return NULL;
@@ -1580,7 +1580,7 @@ static void _iwl_op_mode_stop(struct iwl_drv *drv)
		iwl_op_mode_stop(drv->op_mode);
		drv->op_mode = NULL;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
		debugfs_remove_recursive(drv->dbgfs_op_mode);
		drv->dbgfs_op_mode = NULL;
 #endif
@@ -1609,7 +1609,7 @@ static void iwl_req_fw_callback(const struct firmware *ucode_raw, void *context)
	bool load_module = false;
	bool usniffer_images = false;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	const struct firmware *fw_dbg_config;
	int load_fw_dbg_err = -ENOENT;
 #endif
@@ -1650,7 +1650,7 @@ static void iwl_req_fw_callback(const struct firmware *ucode_raw, void *context)
	if (err)
		goto try_again;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (!ucode->ver && drv->trans->dbg_cfg.fw_dbg_conf) {
		load_fw_dbg_err =
			request_firmware(&fw_dbg_config,
@@ -1845,7 +1845,7 @@ static void iwl_req_fw_callback(const struct firmware *ucode_raw, void *context)
	/* We have our copies now, allow OS release its copies */
	release_firmware(ucode_raw);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (!load_fw_dbg_err)
		release_firmware(fw_dbg_config);
 #endif
@@ -1863,7 +1863,7 @@ static void iwl_req_fw_callback(const struct firmware *ucode_raw, void *context)
		break;
	}

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	if (iwlwifi_mod_params.xvt_default_mode && drv->fw.type == IWL_FW_MVM)
		op = &iwlwifi_opmode_table[XVT_OP_MODE];

@@ -1944,12 +1944,12 @@ struct iwl_drv *iwl_drv_start(struct iwl_trans *trans)
	init_completion(&drv->request_firmware_complete);
	INIT_LIST_HEAD(&drv->list);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	trans->dbg_cfg = current_dbg_config;
	iwl_dbg_cfg_load_ini(drv->trans->dev, &drv->trans->dbg_cfg);
 #endif

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	/* Create the device debugfs entries. */
	drv->dbgfs_drv = debugfs_create_dir(dev_name(trans->dev),
					    iwl_dbgfs_root);
@@ -1958,7 +1958,7 @@ struct iwl_drv *iwl_drv_start(struct iwl_trans *trans)
	drv->trans->dbgfs_dir = debugfs_create_dir("trans", drv->dbgfs_drv);
 #endif

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_gnl_add(drv->trans);
 #endif

@@ -1970,7 +1970,7 @@ struct iwl_drv *iwl_drv_start(struct iwl_trans *trans)
		goto err_fw;
	}

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	ret = iwl_create_sysfs_file(drv);
	if (ret) {
		IWL_ERR(trans, "Couldn't create sysfs entry\n");
@@ -1981,10 +1981,10 @@ struct iwl_drv *iwl_drv_start(struct iwl_trans *trans)
	return drv;

 err_fw:
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_gnl_remove(drv->trans);
 #endif
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	debugfs_remove_recursive(drv->dbgfs_drv);
 #endif
	iwl_dbg_tlv_free(drv->trans);
@@ -2011,22 +2011,22 @@ void iwl_drv_stop(struct iwl_drv *drv)
		list_del(&drv->list);
	mutex_unlock(&iwlwifi_opmode_table_mtx);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	drv->trans->ops->debugfs_cleanup(drv->trans);

	debugfs_remove_recursive(drv->dbgfs_drv);
 #endif

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_dbg_cfg_free(&drv->trans->dbg_cfg);
 #endif
	iwl_dbg_tlv_free(drv->trans);

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	iwl_remove_sysfs_file(drv);
 #endif

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_gnl_remove(drv->trans);
 #endif

@@ -2098,12 +2098,12 @@ static int __init iwl_drv_init(void)
	for (i = 0; i < ARRAY_SIZE(iwlwifi_opmode_table); i++)
		INIT_LIST_HEAD(&iwlwifi_opmode_table[i].drv);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	if (iwl_tm_gnl_init())
		return -EFAULT;
 #endif

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	iwl_kobj = kobject_create_and_add("devices", &THIS_MODULE->mkobj.kobj);
	if (!iwl_kobj) {
		err = -ENOMEM;
@@ -2113,7 +2113,7 @@ static int __init iwl_drv_init(void)

	pr_info(DRV_DESCRIPTION "\n");

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	/* Create the root of iwlwifi debugfs subsystem. */
	iwl_dbgfs_root = debugfs_create_dir(DRV_NAME, NULL);
 #endif
@@ -2125,14 +2125,14 @@ static int __init iwl_drv_init(void)
	return 0;

 cleanup_debugfs:
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	kobject_put(iwl_kobj);
 cleanup_tm_gnl:
 #endif
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_gnl_exit();
 #endif
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	debugfs_remove_recursive(iwl_dbgfs_root);
 #endif
	return err;
@@ -2143,27 +2143,27 @@ static void __exit iwl_drv_exit(void)
 {
	iwl_pci_unregister_driver();

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	debugfs_remove_recursive(iwl_dbgfs_root);
 #endif

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	if (iwl_kobj)
		kobject_put(iwl_kobj);
 #endif

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_gnl_exit();
 #endif
 }
 module_exit(iwl_drv_exit);

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
 module_param_named(debug, iwlwifi_mod_params.debug_level, uint, 0644);
 MODULE_PARM_DESC(debug, "debug output mask");
 #endif

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 module_param_named(xvt_default_mode, iwlwifi_mod_params.xvt_default_mode,
		   bool, S_IRUGO);
 MODULE_PARM_DESC(xvt_default_mode, "xVT is the default operation mode (default: false)");
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.h
index 9de5a5dab3645..24307364e1d81 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-drv.h
@@ -99,7 +99,7 @@ int iwl_drv_switch_op_mode(struct iwl_drv *drv, const char *new_op_name);
  * must be exported for the sub-modules. However, if it's not split and
  * everything is built-in, then we can avoid that.
  */
-#ifdef CPTCFG_IWLWIFI_OPMODE_MODULAR
+#ifdef CONFIG_OOT_IWLWIFI_OPMODE_MODULAR
 #define IWL_EXPORT_SYMBOL(sym)	EXPORT_SYMBOL_GPL(sym)
 #else
 #define IWL_EXPORT_SYMBOL(sym)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-io.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-io.c
index bfd4f19a25f7f..06d006c426a13 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-io.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-io.c
@@ -271,7 +271,7 @@ static int iwl_dump_rfh(struct iwl_trans *trans, char **buf)
		{ RFH_Q0_URBD_STTS_WPTR_LSB, true },
	};

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (buf) {
		int pos = 0;
		/*
@@ -367,7 +367,7 @@ int iwl_dump_fh(struct iwl_trans *trans, char **buf)
	if (trans->trans_cfg->mq_rx_supported)
		return iwl_dump_rfh(trans, buf);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (buf) {
		int pos = 0;
		size_t bufsz = ARRAY_SIZE(fh_tbl) * 48 + 40;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-modparams.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-modparams.h
index 3a04570ff080b..fb0d6a6c25e67 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-modparams.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-modparams.h
@@ -74,10 +74,10 @@ struct iwl_mod_params {
	int led_mode;
	bool power_save;
	int power_level;
-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	u32 debug_level;
 #endif
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	bool xvt_default_mode;
 #endif
	char *nvm_file;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-nvm-parse.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-nvm-parse.c
index 3b70b38949cef..c210eec622329 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-nvm-parse.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-nvm-parse.c
@@ -523,7 +523,7 @@ static void iwl_init_vht_hw_capab(struct iwl_trans *trans,
			cpu_to_le16(IEEE80211_VHT_MCS_NOT_SUPPORTED << 2);
	}

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	vht_cap->cap ^= trans->dbg_cfg.vht_cap_flip;
 #endif

@@ -775,7 +775,7 @@ static void iwl_init_he_hw_capab(struct iwl_trans *trans,

 }

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 /* returns true iff there exists one spatial stream where MCS of a > b */
 static bool iwl_he_mcs_greater(u16 a, u16 b)
 {
@@ -1119,7 +1119,7 @@ static int iwl_set_hw_address(struct iwl_trans *trans,
			      struct iwl_nvm_data *data, const __be16 *nvm_hw,
			      const __le16 *mac_override)
 {
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	struct iwl_dbg_cfg *dbg_cfg = &trans->dbg_cfg;

	if (dbg_cfg->hw_address.len) {
@@ -1292,7 +1292,7 @@ iwl_parse_nvm_data(struct iwl_trans *trans, const struct iwl_cfg *cfg,

	sku = iwl_get_sku(cfg, nvm_sw, phy_sku);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (trans->dbg_cfg.disable_52GHz)
		/* remove support for 5.2 */
		sku &= ~NVM_SKU_CAP_BAND_52GHZ;
@@ -1355,7 +1355,7 @@ iwl_parse_nvm_data(struct iwl_trans *trans, const struct iwl_cfg *cfg,
			sbands_flags, false, fw);
	data->calib_version = 255;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_init_he_override(trans, &data->bands[NL80211_BAND_2GHZ]);
	iwl_init_he_override(trans, &data->bands[NL80211_BAND_5GHZ]);
 #endif
@@ -1820,7 +1820,7 @@ struct iwl_nvm_data *iwl_get_nvm(struct iwl_trans *trans,
	iwl_set_hw_address_from_csr(trans, nvm);
	/* TODO: if platform NVM has MAC address - override it here */

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (trans->dbg_cfg.hw_address.len) {
		if (trans->dbg_cfg.hw_address.len == ETH_ALEN &&
		    is_valid_ether_addr(trans->dbg_cfg.hw_address.data))
@@ -1882,7 +1882,7 @@ struct iwl_nvm_data *iwl_get_nvm(struct iwl_trans *trans,
			nvm->valid_rx_ant & fw->valid_rx_ant,
			sbands_flags, v4, fw);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_init_he_override(trans, &nvm->bands[NL80211_BAND_2GHZ]);
	iwl_init_he_override(trans, &nvm->bands[NL80211_BAND_5GHZ]);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-op-mode.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-op-mode.h
index 7498bd1458c08..ad8bd75f5655a 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-op-mode.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-op-mode.h
@@ -11,7 +11,7 @@
 #include <linux/debugfs.h>
 #include "iwl-dbg-tlv.h"

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "fw/testmode.h"
 #endif

@@ -50,7 +50,7 @@ struct iwl_tm_data;
  *	5) The driver layer stops the op_mode
  */

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 /**
  * struct iwl_test_ops: callback to the op mode
  * @send_hcmd: Handler that sends host cmd in the specific op_mode. If this
@@ -135,7 +135,7 @@ struct iwl_op_mode_ops {
	void (*time_point)(struct iwl_op_mode *op_mode,
			   enum iwl_fw_ini_time_point tp_id,
			   union iwl_dbg_tlv_tp_data *tp_data);
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	struct iwl_test_ops test_ops;
 #endif
 };
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.c
index 3b1d3717066b2..9a6efc1072cde 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.c
@@ -278,7 +278,7 @@ static u16 channel_id_to_txp(struct iwl_phy_db *phy_db, u16 ch_id)
	}
	return 0xff;
 }
-#if !IS_ENABLED(CPTCFG_IWLXVT)
+#if !IS_ENABLED(CONFIG_OOT_IWLXVT)
 static
 #endif
 int iwl_phy_db_get_section_data(struct iwl_phy_db *phy_db,
@@ -309,7 +309,7 @@ int iwl_phy_db_get_section_data(struct iwl_phy_db *phy_db,

	return 0;
 }
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 IWL_EXPORT_SYMBOL(iwl_phy_db_get_section_data);
 #endif

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.h
index 1cf9f5da3a638..5a1ef9cd09973 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-phy-db.h
@@ -18,7 +18,7 @@ int iwl_phy_db_set_section(struct iwl_phy_db *phy_db,
			   struct iwl_rx_packet *pkt);


-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 int iwl_phy_db_get_section_data(struct iwl_phy_db *phy_db,
				u32 type, u8 **data, u16 *size, u16 ch_id);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-tm-gnl.c b/drivers/net/wireless/intel-oot/iwlwifi/iwl-tm-gnl.c
index 74f8ed5f07895..f15146cf79147 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-tm-gnl.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-tm-gnl.c
@@ -323,7 +323,7 @@ static int iwl_tm_get_device_status(struct iwl_tm_gnl_dev *dev,
	return 0;
 }

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 static int iwl_tm_switch_op_mode(struct iwl_tm_gnl_dev *dev,
				 struct iwl_tm_data *data_in)
 {
@@ -690,7 +690,7 @@ static int iwl_tm_gnl_cmd_execute(struct iwl_tm_gnl_cmd *cmd_data)
					       &cmd_data->data_out);
		common_op = true;
		break;
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	case IWL_TM_USER_CMD_SWITCH_OP_MODE:
		ret = iwl_tm_switch_op_mode(dev, &cmd_data->data_in);
		common_op = true;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-trans.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-trans.h
index e5a1f0f8faf08..efbbc8e90a8e3 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-trans.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-trans.h
@@ -17,12 +17,12 @@
 #include "fw/img.h"
 #include "iwl-op-mode.h"
 #include <linux/firmware.h>
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #include "iwl-dbg-cfg.h"
 #endif
 #include "fw/api/cmdhdr.h"
 #include "fw/api/txq.h"
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "fw/testmode.h"
 #endif
 #include "fw/api/dbg-tlv.h"
@@ -62,7 +62,7 @@
  *	6) Eventually, the free function will be called.
  */

-#ifndef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifndef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #define IWL_TRANS_FW_DBG_DOMAIN(trans)	IWL_FW_INI_DOMAIN_ALWAYS_ON
 #else
 #define IWL_TRANS_FW_DBG_DOMAIN(trans)	((trans)->dbg_cfg.FW_DBG_DOMAIN)
@@ -537,7 +537,7 @@ struct iwl_trans_ops {

	int (*start_hw)(struct iwl_trans *iwl_trans);
	void (*op_mode_leave)(struct iwl_trans *iwl_trans);
-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
	int (*start_fw_dbg)(struct iwl_trans *trans, const struct fw_img *fw,
			    bool run_in_rfkill, u32 fw_dbg_flags);
	int (*test_mode_cmd)(struct iwl_trans *trans, bool enable);
@@ -678,7 +678,7 @@ enum iwl_ini_cfg_state {
 };

 /* Max time to wait for nmi interrupt */
-#define IWL_TRANS_NMI_TIMEOUT (HZ / 4 * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define IWL_TRANS_NMI_TIMEOUT (HZ / 4 * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 /**
  * struct iwl_dram_data
@@ -1005,7 +1005,7 @@ struct iwl_trans {
	struct lockdep_map sync_cmd_lockdep_map;
 #endif

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	struct iwl_dbg_cfg dbg_cfg;
 #endif
	struct iwl_trans_debug dbg;
@@ -1013,7 +1013,7 @@ struct iwl_trans {

	enum iwl_plat_pm_mode system_pm_mode;

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	struct iwl_testmode testmode;
 #endif

@@ -1083,7 +1083,7 @@ static inline int iwl_trans_start_fw(struct iwl_trans *trans,
	return ret;
 }

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 enum iwl_xvt_dbg_flags {
	IWL_XVT_DBG_ADC_SAMP_TEST = BIT(0),
	IWL_XVT_DBG_ADC_SAMP_SYNC_RX = BIT(1),
@@ -1354,7 +1354,7 @@ static inline int iwl_trans_wait_txq_empty(struct iwl_trans *trans, int queue)
	return trans->ops->wait_txq_empty(trans, queue);
 }

-#if IS_ENABLED(CPTCFG_IWLXVT)
+#if IS_ENABLED(CONFIG_OOT_IWLXVT)
 static inline int iwl_trans_test_mode_cmd(struct iwl_trans *trans, bool enable)
 {
	if (trans->ops->test_mode_cmd)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/iwl-vendor-cmd.h b/drivers/net/wireless/intel-oot/iwlwifi/iwl-vendor-cmd.h
index 6f30a866042b1..95dd1b9347b1f 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/iwl-vendor-cmd.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/iwl-vendor-cmd.h
@@ -31,7 +31,7 @@
  *	peer in the TDLS cache
  * @IWL_MVM_VENDOR_CMD_SET_NIC_TXPOWER_LIMIT: set the NIC's (SAR) TX power limit
  * @IWL_MVM_VENDOR_CMD_OPPPS_WA: wa to pass Sigma test - applicable code is
- *	claused under CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+ *	claused under CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
  * @IWL_MVM_VENDOR_CMD_GSCAN_GET_CAPABILITIES: get driver gscan capabilities as
  *	specified in %IWL_MVM_VENDOR_ATTR_GSCAN_*
  * @IWL_MVM_VENDOR_CMD_GSCAN_START: set gscan parameters and start gscan
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mei/Makefile b/drivers/net/wireless/intel-oot/iwlwifi/mei/Makefile
index 8191b677923fc..1681fd86d170c 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mei/Makefile
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mei/Makefile
@@ -1,8 +1,8 @@
 # SPDX-License-Identifier: GPL-2.0
-obj-$(CPTCFG_IWLMEI)	+= iwlmei.o
+obj-$(CONFIG_OOT_IWLMEI)	+= iwlmei.o
 iwlmei-y += main.o
 iwlmei-y += net.o
-iwlmei-$(CPTCFG_IWLWIFI_DEVICE_TRACING) += trace.o
+iwlmei-$(CONFIG_OOT_IWLWIFI_DEVICE_TRACING) += trace.o
 CFLAGS_trace.o := -I$(src)

 ccflags-y += -I$(src)/../
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mei/iwl-mei.h b/drivers/net/wireless/intel-oot/iwlwifi/mei/iwl-mei.h
index c5be852df5637..cbfed7f77eac9 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mei/iwl-mei.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mei/iwl-mei.h
@@ -239,7 +239,7 @@ struct iwl_mei_ops {
	void (*nic_stolen)(void *priv);
 };

-#if IS_ENABLED(CPTCFG_IWLMEI)
+#if IS_ENABLED(CONFIG_OOT_IWLMEI)

 /**
  * iwl_mei_is_connected() - is the connection to the CSME firmware established?
@@ -435,6 +435,6 @@ static inline void iwl_mei_host_disassociated(u8 type)
 static inline void iwl_mei_device_down(void)
 {}

-#endif /* CPTCFG_IWLMEI */
+#endif /* CONFIG_OOT_IWLMEI */

 #endif /* __iwl_mei_h__ */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/Makefile b/drivers/net/wireless/intel-oot/iwlwifi/mvm/Makefile
index a4d91b6bc9ae6..a97313fefec5f 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/Makefile
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/Makefile
@@ -1,5 +1,5 @@
 # SPDX-License-Identifier: GPL-2.0
-obj-$(CPTCFG_IWLMVM)   += iwlmvm.o
+obj-$(CONFIG_OOT_IWLMVM)   += iwlmvm.o
 iwlmvm-y += fw.o mac80211.o nvm.o ops.o phy-ctxt.o mac-ctxt.o
 iwlmvm-y += utils.o rx.o rxmq.o tx.o binding.o quota.o sta.o sf.o
 iwlmvm-y += scan.o time-event.o rs.o rs-fw.o
@@ -8,13 +8,13 @@ iwlmvm-y += tt.o offloading.o tdls.o
 iwlmvm-y += ftm-responder.o ftm-initiator.o
 iwlmvm-y += rfi.o
 iwlmvm-y += nan.o
-iwlmvm-$(CPTCFG_IWLWIFI_DEBUGFS) += debugfs.o debugfs-vif.o
-iwlmvm-$(CPTCFG_IWLWIFI_LEDS) += led.o
+iwlmvm-$(CONFIG_OOT_IWLWIFI_DEBUGFS) += debugfs.o debugfs-vif.o
+iwlmvm-$(CONFIG_OOT_IWLWIFI_LEDS) += led.o
 iwlmvm-$(CONFIG_PM) += d3.o

 ccflags-y += -I$(src)/../

 # non-upstream things
-iwlmvm-$(CPTCFG_IWLMVM_VENDOR_CMDS) += vendor-cmd.o
-ifeq ($(CPTCFG_IWLMVM_VENDOR_CMDS),y)
+iwlmvm-$(CONFIG_OOT_IWLMVM_VENDOR_CMDS) += vendor-cmd.o
+ifeq ($(CONFIG_OOT_IWLMVM_VENDOR_CMDS),y)
 endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/constants.h b/drivers/net/wireless/intel-oot/iwlwifi/mvm/constants.h
index 8db9819c22dc8..6d8ab68477c96 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/constants.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/constants.h
@@ -12,7 +12,7 @@

 #define IWL_MVM_UAPSD_NOAGG_BSSIDS_NUM		20

-#ifndef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifndef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #define IWL_MVM_DEFAULT_PS_TX_DATA_TIMEOUT	(100 * USEC_PER_MSEC)
 #define IWL_MVM_DEFAULT_PS_RX_DATA_TIMEOUT	(100 * USEC_PER_MSEC)
 #define IWL_MVM_WOWLAN_PS_TX_DATA_TIMEOUT	(10 * USEC_PER_MSEC)
@@ -123,7 +123,7 @@
 #define IWL_MVM_DISABLE_AP_FILS			false
 #define IWL_MVM_6GHZ_PASSIVE_SCAN_TIMEOUT       3000 /* in seconds */
 #define IWL_MVM_6GHZ_PASSIVE_SCAN_ASSOC_TIMEOUT 60   /* in seconds */
-#else /* CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
+#else /* CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
 #define IWL_MVM_DEFAULT_PS_TX_DATA_TIMEOUT	(mvm->trans->dbg_cfg.MVM_DEFAULT_PS_TX_DATA_TIMEOUT)
 #define IWL_MVM_DEFAULT_PS_RX_DATA_TIMEOUT	(mvm->trans->dbg_cfg.MVM_DEFAULT_PS_RX_DATA_TIMEOUT)
 #define IWL_MVM_WOWLAN_PS_TX_DATA_TIMEOUT	(mvm->trans->dbg_cfg.MVM_WOWLAN_PS_TX_DATA_TIMEOUT)
@@ -237,6 +237,6 @@
 #define IWL_MVM_6GHZ_PASSIVE_SCAN_TIMEOUT       (mvm->trans->dbg_cfg.MVM_6GHZ_PASSIVE_SCAN_TIMEOUT)
 #define IWL_MVM_6GHZ_PASSIVE_SCAN_ASSOC_TIMEOUT (mvm->trans->dbg_cfg.MVM_6GHZ_PASSIVE_SCAN_ASSOC_TIMEOUT)

-#endif /* CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
+#endif /* CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */

 #endif /* __MVM_CONSTANTS_H */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/d3.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/d3.c
index d45fd0724c357..870517e70d88e 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/d3.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/d3.c
@@ -1314,7 +1314,7 @@ static int __iwl_mvm_suspend(struct ieee80211_hw *hw,
	if (ret)
		goto out;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->d3_wake_sysassert)
		d3_cfg_cmd_data.wakeup_flags |=
			cpu_to_le32(IWL_WAKEUP_D3_CONFIG_FW_ERROR);
@@ -1334,7 +1334,7 @@ static int __iwl_mvm_suspend(struct ieee80211_hw *hw,
	ret = iwl_mvm_send_cmd(mvm, &d3_cfg_cmd);
	if (ret)
		goto out;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	len = iwl_rx_packet_payload_len(d3_cfg_cmd.resp_pkt);
	if (len >= sizeof(u32)) {
		mvm->d3_test_pme_ptr =
@@ -2096,7 +2096,7 @@ iwl_mvm_netdetect_query_results(struct iwl_mvm *mvm,
	results->matched_profiles = le32_to_cpu(query->matched_profiles);
	memcpy(results->matches, query->matches, matches_len);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	mvm->last_netdetect_scans = le32_to_cpu(query->n_scans_done);
 #endif

@@ -2413,7 +2413,7 @@ static int __iwl_mvm_resume(struct iwl_mvm *mvm, bool test)
		goto out;
	} else {
		keep = iwl_mvm_query_wakeup_reasons(mvm, vif);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
		if (keep)
			mvm->keep_vif = vif;
 #endif
@@ -2476,7 +2476,7 @@ void iwl_mvm_set_wakeup(struct ieee80211_hw *hw, bool enabled)
	device_set_wakeup_enable(mvm->trans->dev, enabled);
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 static int iwl_mvm_d3_test_open(struct inode *inode, struct file *file)
 {
	struct iwl_mvm *mvm = inode->i_private;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/debugfs.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/debugfs.c
index a04409edb3ed1..5a67ef40fe8a7 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/debugfs.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/debugfs.c
@@ -15,7 +15,7 @@
 #include "iwl-modparams.h"
 #include "fw/error-dump.h"

-#ifdef CPTCFG_IWLWIFI_THERMAL_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_THERMAL_DEBUGFS
 static ssize_t iwl_dbgfs_tt_tx_backoff_write(struct iwl_mvm *mvm, char *buf,
					     size_t count, loff_t *ppos)
 {
@@ -1443,7 +1443,7 @@ static ssize_t iwl_dbgfs_dbg_time_point_write(struct iwl_mvm *mvm,
 }

 #define ADD_TEXT(...) pos += scnprintf(buf + pos, bufsz - pos, __VA_ARGS__)
-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
 static ssize_t iwl_dbgfs_bcast_filters_read(struct file *file,
					    char __user *user_buf,
					    size_t count, loff_t *ppos)
@@ -1819,7 +1819,7 @@ iwl_dbgfs_uapsd_noagg_bssids_read(struct file *file, char __user *user_buf,
	return simple_read_from_buffer(user_buf, count, ppos, buf, pos);
 }

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 static ssize_t iwl_dbgfs_tx_power_status_read(struct file *file,
					      char __user *user_buf,
					      size_t count, loff_t *ppos)
@@ -2112,7 +2112,7 @@ static ssize_t iwl_dbgfs_csi_addresses_write(struct iwl_mvm *mvm, char *buf,

	return count;
 }
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */

 static ssize_t
 iwl_dbgfs_ltr_config_write(struct iwl_mvm *mvm,
@@ -2215,7 +2215,7 @@ static ssize_t iwl_dbgfs_rfi_freq_table_read(struct file *file,
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(prph_reg, 64);

 /* Device wide debugfs entries */
-#ifdef CPTCFG_IWLWIFI_THERMAL_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_THERMAL_DEBUGFS
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(tt_tx_backoff, 64);
 #endif
 MVM_DEBUGFS_READ_FILE_OPS(ctdp_budget);
@@ -2249,7 +2249,7 @@ MVM_DEBUGFS_WRITE_FILE_OPS(indirection_tbl,
 MVM_DEBUGFS_WRITE_FILE_OPS(inject_packet, 512);
 MVM_DEBUGFS_WRITE_FILE_OPS(inject_beacon_ie, 512);
 MVM_DEBUGFS_WRITE_FILE_OPS(inject_beacon_ie_restore, 512);
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 MVM_DEBUGFS_READ_FILE_OPS(tx_power_status);
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(csi_enabled, 8);
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(csi_count, 32);
@@ -2263,7 +2263,7 @@ MVM_DEBUGFS_READ_WRITE_FILE_OPS(csi_addresses,

 MVM_DEBUGFS_READ_FILE_OPS(uapsd_noagg_bssids);

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(bcast_filters, 256);
 MVM_DEBUGFS_READ_WRITE_FILE_OPS(bcast_filters_macs, 256);
 #endif
@@ -2426,7 +2426,7 @@ void iwl_mvm_sta_add_debugfs(struct ieee80211_hw *hw,

 void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm)
 {
-#ifdef CPTCFG_IWLWIFI_THERMAL_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_THERMAL_DEBUGFS
	struct iwl_tt_params *tt_params = &mvm->thermal_throttle.params;
 #endif
	struct dentry *bcast_dir __maybe_unused;
@@ -2434,7 +2434,7 @@ void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm)

	spin_lock_init(&mvm->drv_stats_lock);

-#ifdef CPTCFG_IWLWIFI_THERMAL_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_THERMAL_DEBUGFS
	MVM_DEBUGFS_ADD_FILE(tt_tx_backoff, mvm->debugfs_dir, 0400);
 #endif
	MVM_DEBUGFS_ADD_FILE(tx_flush, mvm->debugfs_dir, 0200);
@@ -2472,7 +2472,7 @@ void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm)
 #ifdef CONFIG_ACPI
	MVM_DEBUGFS_ADD_FILE(sar_geo_profile, mvm->debugfs_dir, 0400);
 #endif
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	MVM_DEBUGFS_ADD_FILE(tx_power_status, mvm->debugfs_dir, 0400);

	if (fw_has_capa(&mvm->fw->ucode_capa,
@@ -2509,7 +2509,7 @@ void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm)

	MVM_DEBUGFS_ADD_FILE(uapsd_noagg_bssids, mvm->debugfs_dir, 0400);

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
	if (mvm->fw->ucode_capa.flags & IWL_UCODE_TLV_FLAGS_BCAST_FILTERING) {
		bcast_dir = debugfs_create_dir("bcast_filtering",
					       mvm->debugfs_dir);
@@ -2547,7 +2547,7 @@ void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm)
	debugfs_create_blob("nvm_reg", S_IRUSR,
			    mvm->debugfs_dir, &mvm->nvm_reg_blob);

-#ifdef CPTCFG_IWLWIFI_THERMAL_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_THERMAL_DEBUGFS
	debugfs_create_u32("ct_kill_exit", 0600,
			   mvm->debugfs_dir,
			   &tt_params->ct_kill_exit);
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-initiator.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-initiator.c
index 8b324f312c942..fe0a60f6dfc0b 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-initiator.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-initiator.c
@@ -207,7 +207,7 @@ static void iwl_mvm_ftm_cmd_v5(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
	cmd->request_id = req->cookie;
	cmd->num_of_ap = req->n_peers;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (IWL_MVM_FTM_INITIATOR_COMMON_CALIB) {
		cmd->common_calib =
			cpu_to_le16(IWL_MVM_FTM_INITIATOR_COMMON_CALIB);
@@ -263,7 +263,7 @@ static void iwl_mvm_ftm_cmd_common(struct iwl_mvm *mvm,
	for (i = 0; i < ETH_ALEN; i++)
		cmd->macaddr_mask[i] = ~req->mac_addr_mask[i];

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (IWL_MVM_FTM_INITIATOR_FAST_ALGO_DISABLE)
		cmd->initiator_flags |=
			cpu_to_le32(IWL_TOF_INITIATOR_FLAGS_FAST_ALGO_DISABLED);
@@ -296,7 +296,7 @@ static void iwl_mvm_ftm_cmd_v8(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
 {
	iwl_mvm_ftm_cmd_common(mvm, vif, (void *)cmd, req);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (IWL_MVM_FTM_INITIATOR_COMMON_CALIB) {
		cmd->common_calib =
			cpu_to_le16(IWL_MVM_FTM_INITIATOR_COMMON_CALIB);
@@ -413,7 +413,7 @@ iwl_mvm_ftm_put_target_v2(struct iwl_mvm *mvm,
		target->location_req |= IWL_TOF_LOC_CIVIC;

	target->algo_type = IWL_MVM_FTM_INITIATOR_ALGO;
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	target->notify_mcsi = IWL_MVM_FTM_INITIATOR_MCSI_ENABLED;
 #endif

@@ -462,7 +462,7 @@ iwl_mvm_ftm_put_target_common(struct iwl_mvm *mvm,
	    peer->ftm.lmr_feedback)
		FTM_PUT_FLAG(LMR_FEEDBACK);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (IWL_MVM_FTM_INITIATOR_MCSI_ENABLED)
		FTM_PUT_FLAG(MCSI_REPORT);
 #endif
@@ -645,7 +645,7 @@ static int iwl_mvm_ftm_start_v8(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
	return iwl_mvm_ftm_send_cmd(mvm, &hcmd);
 }

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 static void iwl_mvm_ftm_set_calib(struct iwl_mvm *mvm,
				  struct iwl_tof_range_req_ap_entry_v6 *target)
 {
@@ -690,7 +690,7 @@ static int iwl_mvm_ftm_start_v9(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
		if (err)
			return err;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
		iwl_mvm_ftm_set_calib(mvm, target);
 #endif
	}
@@ -764,7 +764,7 @@ iwl_mvm_ftm_put_target_v7(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
	if (err)
		return err;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_mvm_ftm_set_calib(mvm, (void *)target);
 #endif

@@ -910,7 +910,7 @@ static int iwl_mvm_ftm_start_v13(struct iwl_mvm *mvm,
		target->band =
			iwl_mvm_phy_band_from_nl80211(peer->chandef.chan->band);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
		if (IWL_MVM_FTM_LMR_FEEDBACK_TERMINATE)
			FTM_PUT_FLAG(TERMINATE_ON_LMR_FEEDBACK);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-responder.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-responder.c
index 035e4f6621342..be24538ee7602 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-responder.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ftm-responder.c
@@ -118,7 +118,7 @@ iwl_mvm_ftm_responder_cmd(struct iwl_mvm *mvm,

	lockdep_assert_held(&mvm->mutex);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	cmd.cmd_valid_fields |= cpu_to_le32(IWL_MVM_FTM_RESP_VALID);
	cmd.responder_cfg_flags |= cpu_to_le32(IWL_MVM_FTM_RESP_FLAGS);

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/fw.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/fw.c
index 6073dbb2c77f0..fc341a8b800d4 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/fw.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/fw.c
@@ -23,13 +23,13 @@
 #include "iwl-phy-db.h"
 #include "iwl-modparams.h"
 #include "iwl-nvm-parse.h"
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "iwl-dnt-cfg.h"
 #include "fw/testmode.h"
 #endif

-#define MVM_UCODE_ALIVE_TIMEOUT	(HZ * CPTCFG_IWL_TIMEOUT_FACTOR)
-#define MVM_UCODE_CALIB_TIMEOUT	(2 * HZ * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define MVM_UCODE_ALIVE_TIMEOUT	(HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR)
+#define MVM_UCODE_CALIB_TIMEOUT	(2 * HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 #define UCODE_VALID_OK	cpu_to_le32(0x1)

@@ -210,7 +210,7 @@ static bool iwl_alive_fn(struct iwl_notif_wait_data *notif_wait,
	alive_data->scd_base_addr = le32_to_cpu(lmac1->dbg_ptrs.scd_base_ptr);
	alive_data->valid = status == IWL_ALIVE_STATUS_OK;

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_tm_set_fw_ver(mvm->trans, le32_to_cpu(lmac1->ucode_major),
			  le32_to_cpu(lmac1->ucode_minor));
 #endif
@@ -372,7 +372,7 @@ static int iwl_mvm_load_ucode_wait_alive(struct iwl_mvm *mvm,
		BIT(IWL_MAX_TID_COUNT + 2);

	set_bit(IWL_MVM_STATUS_FIRMWARE_RUNNING, &mvm->status);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	iwl_fw_set_dbg_rec_on(&mvm->fwrt);
 #endif

@@ -535,7 +535,7 @@ static int iwl_send_phy_cfg_cmd(struct iwl_mvm *mvm)
	struct iwl_phy_specific_cfg phy_filters = {};
	u8 cmd_ver;
	size_t cmd_size;
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	u32 override_mask, flow_override, flow_src;
	u32 event_override, event_src;
	const struct iwl_tlv_calib_ctrl *default_calib =
@@ -544,7 +544,7 @@ static int iwl_send_phy_cfg_cmd(struct iwl_mvm *mvm)

	if (iwl_mvm_has_unified_ucode(mvm) &&
	    !mvm->trans->cfg->tx_with_siso_diversity
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	    && !mvm->trans->dbg_cfg.MVM_CALIB_OVERRIDE_CONTROL
 #endif
	   )
@@ -580,7 +580,7 @@ static int iwl_send_phy_cfg_cmd(struct iwl_mvm *mvm)
		       sizeof(struct iwl_phy_specific_cfg));
	}

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	override_mask = mvm->trans->dbg_cfg.MVM_CALIB_OVERRIDE_CONTROL;
	if (override_mask) {
		IWL_DEBUG_INFO(mvm,
@@ -685,7 +685,7 @@ int iwl_run_init_mvm_ucode(struct iwl_mvm *mvm)
		IWL_ERR(mvm, "Failed to start INIT ucode: %d\n", ret);
		goto remove_notif;
	}
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_start(mvm->trans);
 #endif

@@ -1150,7 +1150,7 @@ static const struct dmi_system_id dmi_ppag_approved_list[] = {
 static int iwl_mvm_ppag_init(struct iwl_mvm *mvm)
 {
	/* no need to read the table, done in INIT stage */
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (dmi_match(DMI_SYS_VENDOR, mvm->trans->dbg_cfg.ppag_allowed)) {
		IWL_DEBUG_RADIO(mvm,
				"System vendor matches dbg_cfg.ppag_allowed %s\n",
@@ -1434,7 +1434,7 @@ void iwl_mvm_send_recovery_cmd(struct iwl_mvm *mvm, u32 flags)

 static int iwl_mvm_sar_init(struct iwl_mvm *mvm)
 {
-#if defined(CPTCFG_IWLMVM_VENDOR_CMDS) && defined(CONFIG_ACPI)
+#if defined(CONFIG_OOT_IWLMVM_VENDOR_CMDS) && defined(CONFIG_ACPI)
	/*
	 * if no profile was chosen by the user yet, choose profile 1 (WRDS) as
	 * default for both chains
@@ -1511,7 +1511,7 @@ int iwl_mvm_up(struct iwl_mvm *mvm)
	if (ret)
		IWL_ERR(mvm, "Failed to initialize Smart Fifo\n");

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_start(mvm->trans);
 #endif

@@ -1674,7 +1674,7 @@ int iwl_mvm_up(struct iwl_mvm *mvm)
	if (test_bit(IWL_MVM_STATUS_IN_HW_RESTART, &mvm->status))
		iwl_mvm_send_recovery_cmd(mvm, ERROR_RECOVERY_UPDATE_DB);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	/* set_mode must be IWL_TX_POWER_MODE_SET_DEVICE if this was
	 * ever initialized.
	 */
@@ -1725,7 +1725,7 @@ int iwl_mvm_up(struct iwl_mvm *mvm)
				err);
	}

-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */

	if (test_bit(IWL_MVM_STATUS_IN_HW_RESTART, &mvm->status))
		iwl_mvm_send_recovery_cmd(mvm, ERROR_RECOVERY_UPDATE_DB);
@@ -1778,7 +1778,7 @@ int iwl_mvm_load_d3_fw(struct iwl_mvm *mvm)
		goto error;
	}

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_start(mvm->trans);
 #endif
	ret = iwl_send_tx_ant_cfg(mvm, iwl_mvm_get_valid_tx_ant(mvm));
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac-ctxt.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac-ctxt.c
index 0c0e1f984b13a..c636ce3e63616 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac-ctxt.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac-ctxt.c
@@ -555,7 +555,7 @@ static int iwl_mvm_mac_ctxt_cmd_sta(struct iwl_mvm *mvm,
	if (vif->p2p) {
		struct ieee80211_p2p_noa_attr *noa =
			&vif->bss_conf.p2p_noa_attr;
-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
		/*
		 * Pass CT window including OPPPS enable flag as part of a WA
		 * to pass P2P OPPPS certification test. Refer to
@@ -818,7 +818,7 @@ u8 iwl_mvm_mac_ctxt_get_lowest_rate(struct ieee80211_tx_info *info,
	else
		rate = IWL_FIRST_OFDM_RATE;

-#ifdef CPTCFG_IWLWIFI_FORCE_OFDM_RATE
+#ifdef CONFIG_OOT_IWLWIFI_FORCE_OFDM_RATE
	rate = IWL_FIRST_OFDM_RATE;
 #endif
	return rate;
@@ -1009,7 +1009,7 @@ int iwl_mvm_mac_ctxt_beacon_changed(struct iwl_mvm *mvm,
	if (!beacon)
		return -ENOMEM;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->beacon_inject_active) {
		dev_kfree_skb(beacon);
		return -EBUSY;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac80211.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac80211.c
index 004ac1b579528..5d07b8346f751 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac80211.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mac80211.c
@@ -27,18 +27,18 @@
 #include "fw/error-dump.h"
 #include "iwl-prph.h"
 #include "iwl-nvm-parse.h"
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "iwl-dnt-cfg.h"
 #include "iwl-dnt-dispatch.h"
 #endif
-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
 #include "fw/testmode.h"
 #endif
 #include "fw/api/nan.h"

 static const struct ieee80211_iface_limit iwl_mvm_limits[] = {
	{
-		.max = CPTCFG_IWLWIFI_NUM_STA_INTERFACES,
+		.max = CONFIG_OOT_IWLWIFI_NUM_STA_INTERFACES,
		.types = BIT(NL80211_IFTYPE_STATION),
	},
	{
@@ -55,8 +55,8 @@ static const struct ieee80211_iface_limit iwl_mvm_limits[] = {

 static const struct ieee80211_iface_combination iwl_mvm_iface_combinations[] = {
	{
-		.num_different_channels = CPTCFG_IWLWIFI_NUM_CHANNELS,
-		.max_interfaces = CPTCFG_IWLWIFI_NUM_STA_INTERFACES + 2,
+		.num_different_channels = CONFIG_OOT_IWLWIFI_NUM_CHANNELS,
+		.max_interfaces = CONFIG_OOT_IWLWIFI_NUM_STA_INTERFACES + 2,
		.limits = iwl_mvm_limits,
		.n_limits = ARRAY_SIZE(iwl_mvm_limits),
	},
@@ -64,7 +64,7 @@ static const struct ieee80211_iface_combination iwl_mvm_iface_combinations[] = {

 static const struct ieee80211_iface_limit iwl_mvm_limits_nan[] = {
	{
-		.max =  CPTCFG_IWLWIFI_NUM_STA_INTERFACES,
+		.max =  CONFIG_OOT_IWLWIFI_NUM_STA_INTERFACES,
		.types = BIT(NL80211_IFTYPE_STATION),
	},
	{
@@ -86,14 +86,14 @@ static const struct ieee80211_iface_limit iwl_mvm_limits_nan[] = {
 static const struct ieee80211_iface_combination
 iwl_mvm_iface_combinations_nan[] = {
	{
-		.num_different_channels = CPTCFG_IWLWIFI_NUM_CHANNELS,
-		.max_interfaces = CPTCFG_IWLWIFI_NUM_STA_INTERFACES + 3,
+		.num_different_channels = CONFIG_OOT_IWLWIFI_NUM_CHANNELS,
+		.max_interfaces = CONFIG_OOT_IWLWIFI_NUM_STA_INTERFACES + 3,
		.limits = iwl_mvm_limits_nan,
		.n_limits = ARRAY_SIZE(iwl_mvm_limits_nan),
	},
 };

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
 /*
  * Use the reserved field to indicate magic values.
  * these values will only be used internally by the driver,
@@ -608,7 +608,7 @@ int iwl_mvm_mac_setup_register(struct iwl_mvm *mvm)
	num_mac = (mvm->nvm_data->n_hw_addrs > 1) ?
		min(IWL_MVM_MAX_ADDRESSES, mvm->nvm_data->n_hw_addrs) : 1;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (mvm->trans->dbg_cfg.hw_address.len)
		num_mac = IWL_MVM_MAX_ADDRESSES;
 #endif
@@ -774,7 +774,7 @@ int iwl_mvm_mac_setup_register(struct iwl_mvm *mvm)
	}
 #endif

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
	/* assign default bcast filtering configuration */
	mvm->bcast_filters = iwl_mvm_default_bcast_filters;
 #endif
@@ -805,7 +805,7 @@ int iwl_mvm_mac_setup_register(struct iwl_mvm *mvm)
		wiphy_ext_feature_set(hw->wiphy,
				      NL80211_EXT_FEATURE_MU_MIMO_AIR_SNIFFER);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	iwl_mvm_vendor_cmds_register(mvm);
 #endif

@@ -818,7 +818,7 @@ int iwl_mvm_mac_setup_register(struct iwl_mvm *mvm)

	ret = ieee80211_register_hw(mvm->hw);
	if (ret) {
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
		iwl_mvm_vendor_cmds_unregister(mvm);
 #endif
		iwl_mvm_leds_exit(mvm);
@@ -1256,7 +1256,7 @@ static void iwl_mvm_restart_complete(struct iwl_mvm *mvm)
		IWL_ERR(mvm, "Failed to update quotas after restart (%d)\n",
			ret);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	if (mvm->csi_cfg.flags & IWL_CHANNEL_ESTIMATION_ENABLE)
		iwl_mvm_send_csi_cmd(mvm);
 #endif
@@ -1734,7 +1734,7 @@ static void iwl_mvm_mac_remove_interface(struct ieee80211_hw *hw,
	 */
	if (vif->type == NL80211_IFTYPE_AP ||
	    vif->type == NL80211_IFTYPE_ADHOC) {
-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
		if (vif == mvm->noa_vif) {
			mvm->noa_vif = NULL;
			mvm->noa_duration = 0;
@@ -1745,7 +1745,7 @@ static void iwl_mvm_mac_remove_interface(struct ieee80211_hw *hw,
		goto out_release;
	}

-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
	if (mvmvif == mvm->p2p_opps_test_wa_vif)
		mvm->p2p_opps_test_wa_vif = NULL;
 #endif
@@ -1769,9 +1769,9 @@ static void iwl_mvm_mac_remove_interface(struct ieee80211_hw *hw,
	if (vif->type == NL80211_IFTYPE_MONITOR)
		mvm->monitor_on = false;

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
	iwl_mvm_tdls_peer_cache_clear(mvm, vif);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

 out_release:
	mutex_unlock(&mvm->mutex);
@@ -1800,7 +1800,7 @@ static void iwl_mvm_mc_iface_iterator(void *_data, u8 *mac,
	};
	int ret, len;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	if (!(mvm->rx_filters & IWL_MVM_VENDOR_RXFILTER_EINVAL) &&
	    mvm->mcast_active_filter_cmd)
		cmd = mvm->mcast_active_filter_cmd;
@@ -1826,7 +1826,7 @@ static void iwl_mvm_mc_iface_iterator(void *_data, u8 *mac,
		IWL_ERR(mvm, "mcast filter cmd error. ret=%d\n", ret);
 }

-#ifndef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifndef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 static
 #endif
 void iwl_mvm_recalc_multicast(struct iwl_mvm *mvm)
@@ -1905,7 +1905,7 @@ static void iwl_mvm_configure_filter(struct ieee80211_hw *hw,
	if (cmd->pass_all)
		cmd->count = 0;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	iwl_mvm_active_rx_filters(mvm);
 #endif
	iwl_mvm_recalc_multicast(mvm);
@@ -1935,7 +1935,7 @@ static void iwl_mvm_config_iface_filter(struct ieee80211_hw *hw,
	mutex_unlock(&mvm->mutex);
 }

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
 struct iwl_bcast_iter_data {
	struct iwl_mvm *mvm;
	struct iwl_bcast_filter_cmd *cmd;
@@ -2048,7 +2048,7 @@ bool iwl_mvm_bcast_filter_build_cmd(struct iwl_mvm *mvm,
	cmd->max_bcast_filters = ARRAY_SIZE(cmd->filters);
	cmd->max_macs = ARRAY_SIZE(cmd->macs);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	/* use debugfs filters/macs if override is configured */
	if (mvm->dbgfs_bcast_filtering.override) {
		memcpy(cmd->filters, &mvm->dbgfs_bcast_filtering.cmd.filters,
@@ -2063,7 +2063,7 @@ bool iwl_mvm_bcast_filter_build_cmd(struct iwl_mvm *mvm,
	if (!mvm->bcast_filters)
		return false;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	if (!(mvm->rx_filters & IWL_MVM_VENDOR_RXFILTER_EINVAL) &&
	    mvm->rx_filters & IWL_MVM_VENDOR_RXFILTER_BCAST) {
		cmd->disable = 1;
@@ -2393,7 +2393,7 @@ static void iwl_mvm_cfg_he_sta(struct iwl_mvm *mvm,
			    IEEE80211_HE_MAC_CAP2_ACK_EN))
		flags |= STA_CTXT_HE_NIC_NOT_ACK_ENABLED;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (mvm->trans->dbg_cfg.no_ack_en & 0x2)
		flags &= ~STA_CTXT_HE_ACK_ENABLED;

@@ -3355,7 +3355,7 @@ static int iwl_mvm_mac_sta_state(struct ieee80211_hw *hw,

		sta->max_rc_amsdu_len = 1;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
		if (mvm->trans->dbg_cfg.ht_dynamic_smps)
			iwl_mvm_update_smps(mvm, vif, IWL_MVM_SMPS_REQ_DBG,
					    IEEE80211_SMPS_DYNAMIC);
@@ -4646,7 +4646,7 @@ static int iwl_mvm_set_tim(struct ieee80211_hw *hw,
	return iwl_mvm_mac_ctxt_beacon_changed(mvm, mvm_sta->vif);
 }

-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
 static const struct nla_policy iwl_mvm_tm_policy[IWL_TM_ATTR_MAX + 1] = {
	[IWL_TM_ATTR_CMD] = { .type = NLA_U32 },
	[IWL_TM_ATTR_NOA_DURATION] = { .type = NLA_U32 },
@@ -5371,7 +5371,7 @@ static void iwl_mvm_mac_event_callback(struct ieee80211_hw *hw,
	}
 }

-#define SYNC_RX_QUEUE_TIMEOUT (HZ * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define SYNC_RX_QUEUE_TIMEOUT (HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR)
 void iwl_mvm_sync_rx_queues_internal(struct iwl_mvm *mvm,
				     enum iwl_mvm_rxq_notif_type type,
				     bool sync,
@@ -5612,7 +5612,7 @@ const struct ieee80211_ops iwl_mvm_hw_ops = {
	.del_nan_func = iwl_mvm_del_nan_func,

	.can_aggregate_in_amsdu = iwl_mvm_mac_can_aggregate,
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	.sta_add_debugfs = iwl_mvm_sta_add_debugfs,
 #endif
 };
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mvm.h b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mvm.h
index 2cb3cb3daba78..f7c1a9c16fec4 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/mvm.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/mvm.h
@@ -16,7 +16,7 @@
 #include <linux/thermal.h>
 #endif

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 #include <linux/ptp_clock_kernel.h>
 #endif

@@ -140,7 +140,7 @@ enum iwl_power_scheme {
 #define IWL_CONN_MAX_LISTEN_INTERVAL	10
 #define IWL_UAPSD_MAX_SP		IEEE80211_WMM_IE_STA_QOSINFO_SP_ALL

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 enum iwl_dbgfs_pm_mask {
	MVM_DEBUGFS_PM_KEEP_ALIVE = BIT(0),
	MVM_DEBUGFS_PM_SKIP_OVER_DTIM = BIT(1),
@@ -205,7 +205,7 @@ enum iwl_mvm_smps_type_request {
	IWL_MVM_SMPS_REQ_TT,
	IWL_MVM_SMPS_REQ_PROT,
	IWL_MVM_SMPS_REQ_FW,
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	IWL_MVM_SMPS_REQ_DBG,
 #endif
	NUM_IWL_MVM_SMPS_REQ,
@@ -395,7 +395,7 @@ struct iwl_mvm_vif {
	int num_target_ipv6_addrs;
 #endif

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	struct dentry *dbgfs_dir;
	struct dentry *dbgfs_slink;
	struct iwl_dbgfs_pm dbgfs_pm;
@@ -606,7 +606,7 @@ struct iwl_mvm_tcm {
	} result;
 };

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
 #define IWL_MVM_TDLS_CNT_MAX_PEERS 4

 struct iwl_mvm_tdls_peer_counter {
@@ -794,7 +794,7 @@ struct iwl_mvm_dqa_txq_info {
	enum iwl_mvm_queue_status status;
 };

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 struct iwl_csi_data_buffer {
	struct page *page;
	unsigned int offset;
@@ -924,10 +924,10 @@ struct iwl_mvm {
	/* rx chain antennas set through debugfs for the scan command */
	u8 scan_rx_ant;

-#ifdef CPTCFG_IWLWIFI_BCAST_FILTERING
+#ifdef CONFIG_OOT_IWLWIFI_BCAST_FILTERING
	/* broadcast filters to configure for each associated station */
	const struct iwl_fw_bcast_filter *bcast_filters;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	struct {
		bool override;
		struct iwl_bcast_filter_cmd cmd;
@@ -952,7 +952,7 @@ struct iwl_mvm {
	 * assigned without ifdef in the source code.
	 */
	struct dentry *debugfs_dir;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	u32 dbgfs_sram_offset, dbgfs_sram_len;
	u32 dbgfs_prph_reg_addr;
	bool disable_power_off;
@@ -991,7 +991,7 @@ struct iwl_mvm {
	s8 fw_restart;
	u8 *error_recovery_buf;

-#ifdef CPTCFG_IWLWIFI_LEDS
+#ifdef CONFIG_OOT_IWLWIFI_LEDS
	struct led_classdev led;
 #endif

@@ -1009,7 +1009,7 @@ struct iwl_mvm {
	int n_nd_channels;
	bool net_detect;
	u8 offload_tid;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	bool d3_wake_sysassert;
	bool d3_test_active;
	u32 d3_test_pme_ptr;
@@ -1055,14 +1055,14 @@ struct iwl_mvm {

	struct iwl_mvm_tcm tcm;

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
	struct list_head tdls_peer_cache_list;
	u32 tdls_peer_cache_cnt;
 #endif

	struct iwl_time_quota_cmd last_quota_cmd;

-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
	u32 noa_duration;
	struct ieee80211_vif *noa_vif;
 #endif
@@ -1118,7 +1118,7 @@ struct iwl_mvm {
		} peer;
	} tdls_cs;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	struct iwl_dev_tx_power_cmd txp_cmd;

	/* Saved TM/FTM measurement configuration */
@@ -1131,7 +1131,7 @@ struct iwl_mvm {
	struct wireless_dev *time_sync_wdev;
 #endif

-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
	/*
	 * Add the following as part of a WA to pass P2P OPPPS certification
	 * test. Refer to IWLMVM_P2P_OPPPS_TEST_WA description in
@@ -1157,7 +1157,7 @@ struct iwl_mvm {

	struct list_head resp_pasn_list;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	struct iwl_mcast_filter_cmd *mcast_active_filter_cmd;
	u8 rx_filters;

@@ -1183,11 +1183,11 @@ struct iwl_mvm {
	struct list_head list;

	struct ptp_data ptp_data;
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */
	struct {
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
		u8 csi_notif;
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */
		u8 d0i3_resp;
		u8 range_resp;
	} cmd_ver;
@@ -1601,7 +1601,7 @@ unsigned int iwl_mvm_max_amsdu_size(struct iwl_mvm *mvm,
				    struct ieee80211_sta *sta,
				    unsigned int tid);

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
 const char *iwl_mvm_get_tx_fail_reason(u32 status);
 #else
 static inline const char *iwl_mvm_get_tx_fail_reason(u32 status) { return ""; }
@@ -1825,7 +1825,7 @@ void iwl_mvm_rx_umac_scan_iter_complete_notif(struct iwl_mvm *mvm,
					      struct iwl_rx_cmd_buffer *rxb);

 /* MVM debugfs */
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_mvm_dbgfs_register(struct iwl_mvm *mvm);
 void iwl_mvm_vif_dbgfs_register(struct iwl_mvm *mvm, struct ieee80211_vif *vif);
 void iwl_mvm_vif_dbgfs_clean(struct iwl_mvm *mvm, struct ieee80211_vif *vif);
@@ -1841,7 +1841,7 @@ static inline void
 iwl_mvm_vif_dbgfs_clean(struct iwl_mvm *mvm, struct ieee80211_vif *vif)
 {
 }
-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */

 /* rate scaling */
 int iwl_mvm_send_lq_cmd(struct iwl_mvm *mvm, struct iwl_lq_cmd *lq);
@@ -1862,7 +1862,7 @@ void iwl_mvm_power_vif_assoc(struct iwl_mvm *mvm, struct ieee80211_vif *vif);
 void iwl_mvm_power_uapsd_misbehaving_ap_notif(struct iwl_mvm *mvm,
					      struct iwl_rx_cmd_buffer *rxb);

-#ifdef CPTCFG_IWLWIFI_LEDS
+#ifdef CONFIG_OOT_IWLWIFI_LEDS
 int iwl_mvm_leds_init(struct iwl_mvm *mvm);
 void iwl_mvm_leds_exit(struct iwl_mvm *mvm);
 void iwl_mvm_leds_sync(struct iwl_mvm *mvm);
@@ -1929,7 +1929,7 @@ u8 iwl_mvm_bt_coex_tx_prio(struct iwl_mvm *mvm, struct ieee80211_hdr *hdr,
			   struct ieee80211_tx_info *info, u8 ac);

 /* beacon filtering */
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void
 iwl_mvm_beacon_filter_debugfs_parameters(struct ieee80211_vif *vif,
					 struct iwl_beacon_filter_cmd *cmd);
@@ -2130,14 +2130,14 @@ void iwl_mvm_tdls_cancel_channel_switch(struct ieee80211_hw *hw,
 void iwl_mvm_rx_tdls_notif(struct iwl_mvm *mvm, struct iwl_rx_cmd_buffer *rxb);
 void iwl_mvm_tdls_ch_switch_work(struct work_struct *work);

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
 void iwl_mvm_tdls_peer_cache_pkt(struct iwl_mvm *mvm, struct ieee80211_hdr *hdr,
				 u32 len, int rxq);
 void iwl_mvm_tdls_peer_cache_clear(struct iwl_mvm *mvm,
				   struct ieee80211_vif *vif);
 struct iwl_mvm_tdls_peer_counter *
 iwl_mvm_tdls_peer_cache_find(struct iwl_mvm *mvm, const u8 *addr);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */
 void iwl_mvm_sync_rx_queues_internal(struct iwl_mvm *mvm,
				     enum iwl_mvm_rxq_notif_type type,
				     bool sync,
@@ -2169,7 +2169,7 @@ void iwl_mvm_event_frame_timeout_callback(struct iwl_mvm *mvm,
					  const struct ieee80211_sta *sta,
					  u16 tid);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 void iwl_mvm_send_csme_conn_info_event(struct iwl_mvm *mvm,
				       const struct iwl_mei_conn_info *conn_info);
 void iwl_mvm_recalc_multicast(struct iwl_mvm *mvm);
@@ -2209,7 +2209,7 @@ int iwl_mvm_sar_select_profile(struct iwl_mvm *mvm, int prof_a, int prof_b);
 int iwl_mvm_get_sar_geo_profile(struct iwl_mvm *mvm);
 int iwl_mvm_ppag_send_cmd(struct iwl_mvm *mvm);
 void iwl_mvm_get_acpi_tables(struct iwl_mvm *mvm);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_mvm_sta_add_debugfs(struct ieee80211_hw *hw,
			     struct ieee80211_vif *vif,
			     struct ieee80211_sta *sta,
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/nvm.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/nvm.c
index 25b0bd83ebb3d..a1d60ead87038 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/nvm.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/nvm.c
@@ -336,7 +336,7 @@ int iwl_nvm_init(struct iwl_mvm *mvm)
		mvm->nvm_sections[section].data = temp;
		mvm->nvm_sections[section].length = ret;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
		switch (section) {
		case NVM_SECTION_TYPE_SW:
			mvm->nvm_sw_blob.data = temp;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ops.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ops.c
index 158ea77396499..e92ae4c59f42e 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/ops.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/ops.c
@@ -29,7 +29,7 @@
 #include "fw/api/nan.h"
 #include "fw/acpi.h"

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "iwl-dnt-cfg.h"
 #include "iwl-dnt-dispatch.h"
 #include "iwl-tm-gnl.h"
@@ -55,7 +55,7 @@ module_param_named(power_scheme, iwlmvm_mod_params.power_scheme, int, 0444);
 MODULE_PARM_DESC(power_scheme,
		 "power management scheme: 1-active, 2-balanced, 3-low power, default: 2");

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 static void iwl_mvm_rx_fw_logs(struct iwl_mvm *mvm,
			       struct iwl_rx_cmd_buffer *rxb)
 {
@@ -80,7 +80,7 @@ static int __init iwl_mvm_init(void)
	if (ret)
		pr_err("Unable to register MVM op_mode: %d\n", ret);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	iwl_mvm_vendor_cmd_init();
 #endif

@@ -92,7 +92,7 @@ static void __exit iwl_mvm_exit(void)
 {
	iwl_opmode_deregister("iwlmvm");
	iwl_mvm_rate_control_unregister();
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	iwl_mvm_vendor_cmd_exit();
 #endif
 }
@@ -321,13 +321,13 @@ static const struct iwl_rx_handlers iwl_mvm_rx_handlers[] = {
		       iwl_mvm_tlc_update_notif, RX_HANDLER_SYNC,
		       struct iwl_tlc_update_notif),

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	RX_HANDLER_GRP_NO_SIZE(LOCATION_GROUP, CSI_HEADER_NOTIFICATION,
			       iwl_mvm_rx_csi_header, RX_HANDLER_ASYNC_LOCKED),
	RX_HANDLER_GRP(LOCATION_GROUP, CSI_CHUNKS_NOTIFICATION,
		       iwl_mvm_rx_csi_chunk, RX_HANDLER_ASYNC_LOCKED,
		       struct iwl_csi_chunk_notification),
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */

	RX_HANDLER(BT_PROFILE_NOTIFICATION, iwl_mvm_rx_bt_coex_notif,
		   RX_HANDLER_ASYNC_LOCKED, struct iwl_bt_coex_profile_notif),
@@ -411,7 +411,7 @@ static const struct iwl_rx_handlers iwl_mvm_rx_handlers[] = {
	RX_HANDLER_GRP(DATA_PATH_GROUP, STA_PM_NOTIF,
		       iwl_mvm_sta_pm_notif, RX_HANDLER_SYNC,
		       struct iwl_mvm_pm_state_notification),
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	RX_HANDLER_GRP(NAN_GROUP, NAN_DISCOVERY_TERMINATE_NOTIF,
		       iwl_mvm_nan_de_term_notif, RX_HANDLER_SYNC,
		       struct iwl_nan_de_term),
@@ -426,7 +426,7 @@ static const struct iwl_rx_handlers iwl_mvm_rx_handlers[] = {
		       WNM_80211V_TIMING_MEASUREMENT_CONFIRM_NOTIFICATION,
		       iwl_mvm_time_sync_msmt_confirm_event, RX_HANDLER_SYNC,
		       struct iwl_time_msmt_cfm_notify),
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */
	RX_HANDLER_GRP(MAC_CONF_GROUP, PROBE_RESPONSE_DATA_NOTIF,
		       iwl_mvm_probe_resp_data_notif,
		       RX_HANDLER_ASYNC_LOCKED,
@@ -434,7 +434,7 @@ static const struct iwl_rx_handlers iwl_mvm_rx_handlers[] = {
	RX_HANDLER_GRP(MAC_CONF_GROUP, CHANNEL_SWITCH_NOA_NOTIF,
		       iwl_mvm_channel_switch_noa_notif,
		       RX_HANDLER_SYNC, struct iwl_channel_switch_noa_notif),
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	RX_HANDLER_NO_SIZE(DEBUG_LOG_MSG, iwl_mvm_rx_fw_logs, RX_HANDLER_SYNC),
 #endif
	RX_HANDLER_GRP(DATA_PATH_GROUP, MONITOR_NOTIF,
@@ -490,10 +490,10 @@ static const struct iwl_hcmd_names iwl_mvm_legacy_names[] = {
	HCMD_NAME(SCAN_OFFLOAD_PROFILES_QUERY_CMD),
	HCMD_NAME(BT_COEX_UPDATE_REDUCED_TXP),
	HCMD_NAME(BT_COEX_CI),
-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	HCMD_NAME(WNM_80211V_TIMING_MEASUREMENT_NOTIFICATION),
	HCMD_NAME(WNM_80211V_TIMING_MEASUREMENT_CONFIRM_NOTIFICATION),
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */
	HCMD_NAME(PHY_CONFIGURATION_CMD),
	HCMD_NAME(CALIB_RES_NOTIF_PHY_DB),
	HCMD_NAME(PHY_DB_CMD),
@@ -714,7 +714,7 @@ static void iwl_mvm_tx_unblock_dwork(struct work_struct *work)
	mutex_unlock(&mvm->mutex);
 }

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 static void iwl_mvm_init_modparams(struct iwl_mvm *mvm)
 {
 #define IWL_DBG_CFG(t, n)			/* nothing */
@@ -782,7 +782,7 @@ static const struct iwl_fw_runtime_ops iwl_mvm_fwrt_ops = {
	.d3_debug_enable = iwl_mvm_d3_debug_enable,
 };

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 static int iwl_mvm_tm_send_hcmd(void *op_mode, struct iwl_host_cmd *host_cmd)
 {
	struct iwl_mvm *mvm = (struct iwl_mvm *)op_mode;
@@ -872,7 +872,7 @@ static int iwl_mvm_start_post_nvm(struct iwl_mvm *mvm)

	iwl_mvm_dbgfs_register(mvm);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	wiphy_rfkill_set_hw_state_reason(mvm->hw->wiphy,
					 mvm->mei_rfkill_blocked,
					 RFKILL_HARD_BLOCK_NOT_OWNER);
@@ -949,7 +949,7 @@ static void iwl_mvm_sap_connected_wk(struct work_struct *wk)
	iwl_fw_flush_dumps(&mvm->fwrt);
	iwl_mvm_thermal_exit(mvm);
	iwl_fw_runtime_free(&mvm->fwrt);
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_free(mvm->trans);
 #endif
	iwl_phy_db_free(mvm->phy_db);
@@ -1021,7 +1021,7 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,

	hw->max_rx_aggregation_subframes = IEEE80211_MAX_AMPDU_BUF;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (trans->dbg_cfg.rx_agg_subframes)
		hw->max_rx_aggregation_subframes =
			trans->dbg_cfg.rx_agg_subframes;
@@ -1114,13 +1114,13 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,

	init_waitqueue_head(&mvm->rx_sync_waitq);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	/*
	 * by default capture all frame types
	 * (but of course leave it disabled)
	 */
	mvm->csi_cfg.frame_types = ~0ULL;
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */

	mvm->queue_sync_state = 0;

@@ -1132,17 +1132,17 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,
	mvm->tcm.ll_ts = jiffies;
	mvm->tcm.uapsd_nonagg_ts = jiffies;

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
	INIT_LIST_HEAD(&mvm->tdls_peer_cache_list);
 #endif

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	mvm->rx_filters = IWL_MVM_VENDOR_RXFILTER_EINVAL;
 #endif

	INIT_DELAYED_WORK(&mvm->cs_tx_unblock_dwork, iwl_mvm_tx_unblock_dwork);

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	/* set command/notification versions we care about */
	mvm->cmd_ver.csi_notif =
		iwl_fw_lookup_notif_ver(mvm->fw, LOCATION_GROUP,
@@ -1238,7 +1238,7 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,
	/* set up notification wait support */
	iwl_notification_wait_init(&mvm->notif_wait);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_init(mvm->trans, dbgfs_dir);
	iwl_tm_init(trans, mvm->fw, &mvm->mutex, mvm);
 #endif
@@ -1255,7 +1255,7 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,

	if (iwlwifi_mod_params.nvm_file)
		mvm->nvm_file_name = iwlwifi_mod_params.nvm_file;
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	else if (trans->dbg_cfg.nvm_file)
		mvm->nvm_file_name = trans->dbg_cfg.nvm_file;
 #endif
@@ -1285,7 +1285,7 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,
	else
		memset(&mvm->rx_stats, 0, sizeof(struct mvm_statistics_rx));

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_mvm_init_modparams(mvm);
 #endif

@@ -1317,7 +1317,7 @@ iwl_op_mode_mvm_start(struct iwl_trans *trans, const struct iwl_cfg *cfg,

	if (iwlmvm_mod_params.init_dbg)
		return op_mode;
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_free(trans);
 #endif
	iwl_phy_db_free(mvm->phy_db);
@@ -1383,7 +1383,7 @@ static void iwl_op_mode_mvm_stop(struct iwl_op_mode *op_mode)
	kfree(mvm->error_recovery_buf);
	mvm->error_recovery_buf = NULL;

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
	kfree(mvm->mcast_active_filter_cmd);
	mvm->mcast_active_filter_cmd = NULL;
	mvm->time_msmt_cfg = 0;
@@ -1392,14 +1392,14 @@ static void iwl_op_mode_mvm_stop(struct iwl_op_mode *op_mode)
	if (mvm->hw_registered)
		iwl_mvm_vendor_cmds_unregister(mvm);

-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */

	iwl_trans_op_mode_leave(mvm->trans);

	iwl_phy_db_free(mvm->phy_db);
	mvm->phy_db = NULL;

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_free(mvm->trans);
 #endif
	kfree(mvm->nvm_data);
@@ -1411,9 +1411,9 @@ static void iwl_op_mode_mvm_stop(struct iwl_op_mode *op_mode)

	cancel_delayed_work_sync(&mvm->tcm.work);

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
	iwl_mvm_tdls_peer_cache_clear(mvm, NULL);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

	iwl_fw_runtime_free(&mvm->fwrt);
	mutex_destroy(&mvm->mutex);
@@ -1563,7 +1563,7 @@ static void iwl_mvm_rx(struct iwl_op_mode *op_mode,
	struct iwl_mvm *mvm = IWL_OP_MODE_GET_MVM(op_mode);
	u16 cmd = WIDE_ID(pkt->hdr.group_id, pkt->hdr.cmd);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	/*
	 * RX data may be forwarded to userspace in case the user
	 * requested to monitor the rx w/o affecting the regular flow.
@@ -1589,7 +1589,7 @@ void iwl_mvm_rx_mq(struct iwl_op_mode *op_mode,
	struct iwl_mvm *mvm = IWL_OP_MODE_GET_MVM(op_mode);
	u16 cmd = WIDE_ID(pkt->hdr.group_id, pkt->hdr.cmd);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	/*
	 * RX data may be forwarded to userspace in case the user
	 * requested to monitor the rx w/o affecting the regular flow.
@@ -1863,7 +1863,7 @@ void iwl_mvm_nic_restart(struct iwl_mvm *mvm, bool fw_error)
		}

		iwl_fw_error_collect(&mvm->fwrt, false);
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
		iwl_dnt_dispatch_handle_nic_err(mvm->trans);
 #endif

@@ -1932,7 +1932,7 @@ static void iwl_op_mode_mvm_time_point(struct iwl_op_mode *op_mode,
	.start = iwl_op_mode_mvm_start,				\
	.stop = iwl_op_mode_mvm_stop,				\
	.time_point = iwl_op_mode_mvm_time_point
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #define IWL_MVM_COMMON_TEST_OPS					\
	.test_ops = {						\
		.send_hcmd = iwl_mvm_tm_send_hcmd,		\
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/phy-ctxt.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/phy-ctxt.c
index 175f58c24798c..b14679a578096 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/phy-ctxt.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/phy-ctxt.c
@@ -104,7 +104,7 @@ static void iwl_mvm_phy_ctxt_set_rxchain(struct iwl_mvm *mvm,
	*rxchain_info |= cpu_to_le32(idle_cnt << PHY_RX_CHAIN_CNT_POS);
	*rxchain_info |= cpu_to_le32(active_cnt <<
					 PHY_RX_CHAIN_MIMO_CNT_POS);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (unlikely(mvm->dbgfs_rx_phyinfo))
		*rxchain_info = cpu_to_le32(mvm->dbgfs_rx_phyinfo);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/power.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/power.c
index 3300451687b46..cab03af903894 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/power.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/power.c
@@ -128,14 +128,14 @@ static void iwl_mvm_power_configure_uapsd(struct iwl_mvm *mvm,
	enum ieee80211_ac_numbers ac;
	bool tid_found = false;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	/* set advanced pm flag with no uapsd ACs to enable ps-poll */
	if (mvmvif->dbgfs_pm.use_ps_poll) {
		cmd->flags |= cpu_to_le16(POWER_FLAGS_ADVANCE_PM_ENA_MSK);
		return;
	}
 #endif
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (mvm->trans->dbg_cfg.MVM_USE_PS_POLL) {
		cmd->flags |= cpu_to_le16(POWER_FLAGS_ADVANCE_PM_ENA_MSK);
		return;
@@ -414,7 +414,7 @@ static void iwl_mvm_power_build_cmd(struct iwl_mvm *mvm,
	if (iwl_mvm_power_allow_uapsd(mvm, vif))
		iwl_mvm_power_configure_uapsd(mvm, vif, cmd);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvmvif->dbgfs_pm.mask & MVM_DEBUGFS_PM_KEEP_ALIVE)
		cmd->keep_alive_seconds =
			cpu_to_le16(mvmvif->dbgfs_pm.keep_alive_seconds);
@@ -457,7 +457,7 @@ static void iwl_mvm_power_build_cmd(struct iwl_mvm *mvm,
		else
			cmd->flags &= cpu_to_le16(flag);
	}
-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */
 }

 static int iwl_mvm_power_send_cmd(struct iwl_mvm *mvm,
@@ -467,7 +467,7 @@ static int iwl_mvm_power_send_cmd(struct iwl_mvm *mvm,

	iwl_mvm_power_build_cmd(mvm, vif, &cmd);
	iwl_mvm_power_log(mvm, &cmd);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	memcpy(&iwl_mvm_vif_from_mac80211(vif)->mac_pwr_cmd, &cmd, sizeof(cmd));
 #endif

@@ -487,7 +487,7 @@ int iwl_mvm_power_update_device(struct iwl_mvm *mvm)
	if (!mvm->ps_disabled)
		cmd.flags |= cpu_to_le16(DEVICE_POWER_FLAGS_POWER_SAVE_ENA_MSK);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (test_bit(IWL_MVM_STATUS_IN_D3, &mvm->status) ?
			mvm->disable_power_off_d3 : mvm->disable_power_off)
		cmd.flags &=
@@ -686,7 +686,7 @@ static void iwl_mvm_power_set_pm(struct iwl_mvm *mvm,
	}
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 int iwl_mvm_power_mac_dbgfs_read(struct iwl_mvm *mvm,
				 struct ieee80211_vif *vif, char *buf,
				 int bufsz)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/quota.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/quota.c
index 3c960de4bcf95..8ac41311392c6 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/quota.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/quota.c
@@ -15,7 +15,7 @@ struct iwl_mvm_quota_iterator_data {
	int n_interfaces[MAX_BINDINGS];
	int colors[MAX_BINDINGS];
	int low_latency[MAX_BINDINGS];
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	int dbgfs_min[MAX_BINDINGS];
 #endif
	int n_low_latency_bindings;
@@ -74,7 +74,7 @@ static void iwl_mvm_quota_iterator(void *_data, u8 *mac,

	data->n_interfaces[id]++;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvmvif->dbgfs_quota_min)
		data->dbgfs_min[id] = max(data->dbgfs_min[id],
					  mvmvif->dbgfs_quota_min);
@@ -86,7 +86,7 @@ static void iwl_mvm_quota_iterator(void *_data, u8 *mac,
	}
 }

-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
 /*
  * Zero quota for P2P client MAC as part of a WA to pass P2P OPPPS certification
  * test. Refer to IWLMVM_P2P_OPPPS_TEST_WA description in Kconfig.noupstream for
@@ -122,7 +122,7 @@ static void iwl_mvm_adjust_quota_for_p2p_wa(struct iwl_mvm *mvm,
 static void iwl_mvm_adjust_quota_for_noa(struct iwl_mvm *mvm,
					 struct iwl_time_quota_cmd *cmd)
 {
-#ifdef CPTCFG_NL80211_TESTMODE
+#ifdef CONFIG_NL80211_TESTMODE
	struct iwl_mvm_vif *mvmvif;
	int i, phy_id = -1, beacon_int = 0;

@@ -254,7 +254,7 @@ int iwl_mvm_update_quotas(struct iwl_mvm *mvm,

		if (data.n_interfaces[i] <= 0)
			qdata->quota = cpu_to_le32(0);
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
		else if (data.dbgfs_min[i])
			qdata->quota =
				cpu_to_le32(data.dbgfs_min[i] * QUOTA_100 / 100);
@@ -313,7 +313,7 @@ int iwl_mvm_update_quotas(struct iwl_mvm *mvm,
			  "zero quota on binding %d\n", i);
	}

-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
	/*
	 * Zero quota for P2P client MAC as part of a WA to pass P2P OPPPS
	 * certification test. Refer to IWLMVM_P2P_OPPPS_TEST_WA description in
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs-fw.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs-fw.c
index 8347bfea928aa..10518adea7d43 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs-fw.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs-fw.c
@@ -359,8 +359,8 @@ void iwl_mvm_tlc_update_notif(struct iwl_mvm *mvm,
	rcu_read_unlock();
 }

-#if defined(CPTCFG_MAC80211_DEBUGFS) && \
-	defined(CPTCFG_IWLWIFI_DEBUG_HOST_CMD_ENABLED)
+#if defined(CONFIG_MAC80211_DEBUGFS) && \
+	defined(CONFIG_OOT_IWLWIFI_DEBUG_HOST_CMD_ENABLED)
 int iwl_rs_dhc_set_ampdu_size(struct ieee80211_sta *sta, u32 ampdu_size)
 {
	struct iwl_mvm_sta *mvmsta = iwl_mvm_sta_from_mac80211(sta);
@@ -382,7 +382,7 @@ int iwl_rs_dhc_set_ampdu_size(struct ieee80211_sta *sta, u32 ampdu_size)

	return 0;
 }
-#endif /* CPTCFG_MAC80211_DEBUGFS */
+#endif /* CONFIG_MAC80211_DEBUGFS */

 u16 rs_fw_get_max_amsdu_len(struct ieee80211_sta *sta)
 {
@@ -443,11 +443,11 @@ void rs_fw_rate_init(struct iwl_mvm *mvm, struct ieee80211_sta *sta,

	memset(lq_sta, 0, offsetof(typeof(*lq_sta), pers));

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	iwl_mvm_reset_frame_stats(mvm);
 #endif
	rs_fw_set_supp_rates(sta, sband, &cfg_cmd);
-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	/*
	 * if AP disables mimo on 160bw
	 * (!cfg_cmd.ht_rates[IWL_TLC_NSS_2][IWL_TLC_HT_BW_160])
@@ -472,7 +472,7 @@ void rs_fw_rate_init(struct iwl_mvm *mvm, struct ieee80211_sta *sta,
	if (ret)
		IWL_ERR(mvm, "Failed to send rate scale config (%d)\n", ret);

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (mvm->trans->dbg_cfg.ampdu_limit)
		iwl_rs_dhc_set_ampdu_size(sta,
					  mvm->trans->dbg_cfg.ampdu_limit);
@@ -492,7 +492,7 @@ void iwl_mvm_rs_add_sta(struct iwl_mvm *mvm, struct iwl_mvm_sta *mvmsta)
	lq_sta->pers.last_rssi = S8_MIN;
	lq_sta->last_rate_n_flags = 0;

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	lq_sta->pers.dbg_fixed_rate = 0;
 #endif
 }
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.c
index 4f9d097a82bc4..d4bcb82471342 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.c
@@ -2017,7 +2017,7 @@ static bool rs_tpc_perform(struct iwl_mvm *mvm,
	int weak, strong;
	int weak_tpt = IWL_INVALID_VALUE, strong_tpt = IWL_INVALID_VALUE;

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	if (lq_sta->pers.dbg_fixed_txp_reduction <= TPC_MAX_REDUCTION) {
		IWL_DEBUG_RATE(mvm, "fixed tpc: %d\n",
			       lq_sta->pers.dbg_fixed_txp_reduction);
@@ -2765,7 +2765,7 @@ static void *rs_drv_alloc_sta(void *mvm_rate, struct ieee80211_sta *sta,
	IWL_DEBUG_RATE(mvm, "create station rate scale window\n");

	lq_sta->pers.drv = mvm;
-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	lq_sta->pers.dbg_fixed_rate = 0;
	lq_sta->pers.dbg_fixed_txp_reduction = TPC_INVALID;
	lq_sta->pers.ss_force = RS_SS_FORCE_NONE;
@@ -2890,7 +2890,7 @@ static void rs_vht_init(struct iwl_mvm *mvm,
	lq_sta->is_vht = true;
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_mvm_reset_frame_stats(struct iwl_mvm *mvm)
 {
	spin_lock_bh(&mvm->drv_stats_lock);
@@ -3039,7 +3039,7 @@ static void rs_drv_rate_init(struct iwl_mvm *mvm, struct ieee80211_sta *sta,
	/* as default allow aggregation for all tids */
	lq_sta->tx_agg_tid_en = IWL_AGG_ALL_TID;
	lq_sta->is_agg = 0;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	iwl_mvm_reset_frame_stats(mvm);
 #endif
	rs_initialize_lq(mvm, sta, lq_sta, band);
@@ -3100,7 +3100,7 @@ static void __iwl_mvm_rs_tx_status(struct iwl_mvm *mvm,
		return;
	}

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	/* Disable last tx check if we are debugging with fixed rate but
	 * update tx stats
	 */
@@ -3313,7 +3313,7 @@ void iwl_mvm_rs_tx_status(struct iwl_mvm *mvm, struct ieee80211_sta *sta,
	spin_unlock(&mvmsta->lq_sta.rs_drv.pers.lock);
 }

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
 static void rs_build_rates_table_from_fixed(struct iwl_mvm *mvm,
					    struct iwl_lq_cmd *lq_cmd,
					    enum nl80211_band band,
@@ -3349,7 +3349,7 @@ static void rs_build_rates_table_from_fixed(struct iwl_mvm *mvm,
		lq_cmd->agg_frame_cnt_limit =
			LINK_QUAL_AGG_FRAME_LIMIT_GEN2_DEF;
 }
-#endif /* CPTCFG_MAC80211_DEBUGFS */
+#endif /* CONFIG_MAC80211_DEBUGFS */

 static void rs_fill_rates_for_column(struct iwl_mvm *mvm,
				     struct iwl_lq_sta *lq_sta,
@@ -3555,7 +3555,7 @@ static void rs_set_lq_ss_params(struct iwl_mvm *mvm,
	if (!iwl_mvm_bt_coex_is_mimo_allowed(mvm, sta))
		goto out;

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	/* Check if forcing the decision is configured.
	 * Note that SISO is forced by not allowing STBC or BFER
	 */
@@ -3628,7 +3628,7 @@ static void rs_fill_lq_cmd(struct iwl_mvm *mvm,
	lq_cmd->agg_time_limit =
		cpu_to_le16(IWL_MVM_RS_AGG_TIME_LIMIT);

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	if (lq_sta->pers.dbg_fixed_rate) {
		rs_build_rates_table_from_fixed(mvm, lq_cmd,
						lq_sta->band,
@@ -3752,7 +3752,7 @@ int rs_pretty_print_rate(char *buf, int bufsz, const u32 rate)
			 (rate & RATE_MCS_BF_MSK) ? "BF " : "");
 }

-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
 /*
  * Program the device to use fixed rate for frame transmit
  * This is for debugging/testing only
@@ -4156,7 +4156,7 @@ static const struct rate_control_ops rs_mvm_ops_drv = {
	.alloc_sta = rs_drv_alloc_sta,
	.free_sta = rs_free_sta,
	.rate_update = rs_drv_rate_update,
-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
	.add_sta_debugfs = rs_drv_add_sta_debugfs,
 #endif
	.capa = RATE_CTRL_CAPA_VHT_EXT_NSS_BW,
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.h b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.h
index b62bb883b9c00..2d88359920b8a 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rs.h
@@ -216,7 +216,7 @@ struct iwl_rate_mcs_info {
  * struct iwl_lq_sta_rs_fw - rate and related statistics for RS in FW
  * @last_rate_n_flags: last rate reported by FW
  * @sta_id: the id of the station
-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
  * @dbg_fixed_rate: for debug, use fixed rate if not 0
  * @dbg_agg_frame_count_lim: for debug, max number of frames in A-MPDU
 #endif
@@ -233,7 +233,7 @@ struct iwl_lq_sta_rs_fw {
	/* persistent fields - initialized only once - keep last! */
	struct lq_sta_pers_rs_fw {
		u32 sta_id;
-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
		u32 dbg_fixed_rate;
		u16 dbg_agg_frame_count_lim;
 #endif
@@ -372,7 +372,7 @@ struct iwl_lq_sta {

	/* persistent fields - initialized only once - keep last! */
	struct lq_sta_pers {
-#ifdef CPTCFG_MAC80211_DEBUGFS
+#ifdef CONFIG_MAC80211_DEBUGFS
		u32 dbg_fixed_rate;
		u8 dbg_fixed_txp_reduction;

@@ -435,7 +435,7 @@ struct iwl_mvm_sta;
 int iwl_mvm_tx_protection(struct iwl_mvm *mvm, struct iwl_mvm_sta *mvmsta,
			  bool enable);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_mvm_reset_frame_stats(struct iwl_mvm *mvm);
 #endif

@@ -456,8 +456,8 @@ static inline int iwl_rs_send_dhc(struct iwl_mvm *mvm,
	return -EINVAL;
 }

-#if defined(CPTCFG_MAC80211_DEBUGFS) && \
-	defined(CPTCFG_IWLWIFI_DEBUG_HOST_CMD_ENABLED)
+#if defined(CONFIG_MAC80211_DEBUGFS) && \
+	defined(CONFIG_OOT_IWLWIFI_DEBUG_HOST_CMD_ENABLED)
 int iwl_rs_dhc_set_ampdu_size(struct ieee80211_sta *sta, u32 ampdu_size);
 #else
 static inline int iwl_rs_dhc_set_ampdu_size(struct ieee80211_sta *sta,
@@ -465,5 +465,5 @@ static inline int iwl_rs_dhc_set_ampdu_size(struct ieee80211_sta *sta,
 {
	return -EINVAL;
 }
-#endif /* CPTCFG_MAC80211_DEBUGFS */
+#endif /* CONFIG_MAC80211_DEBUGFS */
 #endif /* __rs__ */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rx.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rx.c
index f9119c9cb880d..4a08f0c660cc6 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rx.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rx.c
@@ -28,7 +28,7 @@ void iwl_mvm_rx_rx_phy_cmd(struct iwl_mvm *mvm, struct iwl_rx_cmd_buffer *rxb)
	memcpy(&mvm->last_phy_info, pkt->data, sizeof(mvm->last_phy_info));
	mvm->ampdu_ref++;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->last_phy_info.phy_flags & cpu_to_le16(RX_RES_PHY_FLAGS_AGG)) {
		spin_lock(&mvm->drv_stats_lock);
		mvm->drv_rx_stats.ampdu_count++;
@@ -433,13 +433,13 @@ void iwl_mvm_rx_rx_mpdu(struct iwl_mvm *mvm, struct napi_struct *napi,
		    ieee80211_is_data(hdr->frame_control))
			iwl_mvm_rx_handle_tcm(mvm, sta, hdr, len, phy_info,
					      rate_n_flags);
-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
		/*
		 * these packets are from the AP or the existing TDLS peer.
		 * In both cases an existing station.
		 */
		iwl_mvm_tdls_peer_cache_pkt(mvm, hdr, len, 0);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

		if (ieee80211_is_data(hdr->frame_control))
			iwl_mvm_rx_csum(sta, skb, rx_pkt_status);
@@ -511,7 +511,7 @@ void iwl_mvm_rx_rx_mpdu(struct iwl_mvm *mvm, struct napi_struct *napi,
		rx_status->rate_idx = rate;
	}

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	iwl_mvm_update_frame_stats(mvm, rate_n_flags,
				   rx_status->flag & RX_FLAG_AMPDU_DETAILS);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rxmq.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rxmq.c
index c6fd5b75f006c..62ce8ebf46874 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/rxmq.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/rxmq.c
@@ -1886,13 +1886,13 @@ void iwl_mvm_rx_mpdu_mq(struct iwl_mvm *mvm, struct napi_struct *napi,
		if (ieee80211_is_data(hdr->frame_control))
			iwl_mvm_rx_csum(mvm, sta, skb, pkt);

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
		/*
		 * these packets are from the AP or the existing TDLS peer.
		 * In both cases an existing station.
		 */
		iwl_mvm_tdls_peer_cache_pkt(mvm, hdr, len, queue);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

		if (iwl_mvm_is_dup(sta, queue, rx_status, hdr, desc)) {
			kfree_skb(skb);
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/scan.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/scan.c
index 7e64baee61ebf..7aadc0f609b1c 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/scan.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/scan.c
@@ -890,7 +890,7 @@ static int iwl_mvm_scan_lmac_flags(struct iwl_mvm *mvm,
	else
		flags |= IWL_MVM_LMAC_SCAN_FLAG_MATCH;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->scan_iter_notif_enabled)
		flags |= IWL_MVM_LMAC_SCAN_FLAG_ITER_COMPLETE;
 #endif
@@ -1693,7 +1693,7 @@ static u16 iwl_mvm_scan_umac_flags_v2(struct iwl_mvm *mvm,
	    mvm->sched_scan_pass_all == SCHED_SCAN_PASS_ALL_ENABLED)
		flags |= IWL_UMAC_SCAN_GEN_FLAGS_V2_NTFY_ITER_COMPLETE;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->scan_iter_notif_enabled)
		flags |= IWL_UMAC_SCAN_GEN_FLAGS_V2_NTFY_ITER_COMPLETE;
 #endif
@@ -1742,7 +1742,7 @@ static u16 iwl_mvm_scan_umac_flags(struct iwl_mvm *mvm,
	if (params->iter_notif)
		flags |= IWL_UMAC_SCAN_GEN_FLAGS_ITER_COMPLETE;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	if (mvm->scan_iter_notif_enabled)
		flags |= IWL_UMAC_SCAN_GEN_FLAGS_ITER_COMPLETE;
 #endif
@@ -2118,7 +2118,7 @@ static int iwl_mvm_check_running_scans(struct iwl_mvm *mvm, int type)
	return -EIO;
 }

-#define SCAN_TIMEOUT (CPTCFG_IWL_TIMEOUT_FACTOR * 20000)
+#define SCAN_TIMEOUT (CONFIG_OOT_IWL_TIMEOUT_FACTOR * 20000)

 void iwl_mvm_scan_timeout_wk(struct work_struct *work)
 {
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tdls.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tdls.c
index f8a9375f7c0af..53619e81c03bd 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tdls.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tdls.c
@@ -672,7 +672,7 @@ iwl_mvm_tdls_recv_channel_switch(struct ieee80211_hw *hw,
	mutex_unlock(&mvm->mutex);
 }

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
 void iwl_mvm_tdls_peer_cache_pkt(struct iwl_mvm *mvm, struct ieee80211_hdr *hdr,
				 u32 len, int rxq)
 {
@@ -743,4 +743,4 @@ iwl_mvm_tdls_peer_cache_find(struct iwl_mvm *mvm, const u8 *addr)

	return cnt;
 }
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tt.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tt.c
index b859e8cd8ab07..4ec79e05c4a0e 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tt.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tt.c
@@ -397,7 +397,7 @@ void iwl_mvm_tt_handler(struct iwl_mvm *mvm)
		return;
	}

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (params->support_dynamic_smps && !mvm->trans->dbg_cfg.smps_disabled) {
 #else
	if (params->support_dynamic_smps) {
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tx.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tx.c
index 93744603053ae..0075a6f2e466c 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/tx.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/tx.c
@@ -294,7 +294,7 @@ static u32 iwl_mvm_get_tx_rate(struct iwl_mvm *mvm,
	 */
	if (info->band != NL80211_BAND_2GHZ)
		rate_idx += IWL_FIRST_OFDM_RATE;
-#ifdef CPTCFG_IWLWIFI_FORCE_OFDM_RATE
+#ifdef CONFIG_OOT_IWLWIFI_FORCE_OFDM_RATE
	/* Force OFDM on each TX packet */
	rate_idx = IWL_FIRST_OFDM_RATE;
 #endif
@@ -346,7 +346,7 @@ void iwl_mvm_set_tx_cmd_rate(struct iwl_mvm *mvm, struct iwl_tx_cmd *tx_cmd,
	 * table is controlled by LINK_QUALITY commands
	 */

-#ifndef CPTCFG_IWLWIFI_FORCE_OFDM_RATE
+#ifndef CONFIG_OOT_IWLWIFI_FORCE_OFDM_RATE
	if (ieee80211_is_data(fc) && sta) {
		struct iwl_mvm_sta *mvmsta = iwl_mvm_sta_from_mac80211(sta);

@@ -1256,7 +1256,7 @@ static void iwl_mvm_check_ratid_empty(struct iwl_mvm *mvm,
	}
 }

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
 const char *iwl_mvm_get_tx_fail_reason(u32 status)
 {
 #define TX_STATUS_FAIL(x) case TX_STATUS_FAIL_ ## x: return #x
@@ -1294,7 +1294,7 @@ const char *iwl_mvm_get_tx_fail_reason(u32 status)
 #undef TX_STATUS_FAIL
 #undef TX_STATUS_POSTPONE
 }
-#endif /* CPTCFG_IWLWIFI_DEBUG */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUG */

 void iwl_mvm_hwrate_to_tx_rate(u32 rate_n_flags,
			       enum nl80211_band band,
@@ -1528,11 +1528,11 @@ static void iwl_mvm_rx_tx_cmd_single(struct iwl_mvm *mvm,
		info->status.status_driver_data[0] =
			RS_DRV_DATA_PACK(lq_color, tx_resp->reduced_tpc);

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
		if (info->flags & IEEE80211_TX_STAT_ACK)
			iwl_mvm_tdls_peer_cache_pkt(mvm, (void *)skb->data,
						    skb->len, -1);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

		ieee80211_tx_status(mvm->hw, skb);
	}
@@ -1642,7 +1642,7 @@ static void iwl_mvm_rx_tx_cmd_single(struct iwl_mvm *mvm,
	rcu_read_unlock();
 }

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
 #define AGG_TX_STATE_(x) case AGG_TX_STATE_ ## x: return #x
 static const char *iwl_get_agg_tx_status(u16 status)
 {
@@ -1697,7 +1697,7 @@ static void iwl_mvm_rx_tx_cmd_agg_dbg(struct iwl_mvm *mvm,
 static void iwl_mvm_rx_tx_cmd_agg_dbg(struct iwl_mvm *mvm,
				      struct iwl_rx_packet *pkt)
 {}
-#endif /* CPTCFG_IWLWIFI_DEBUG */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUG */

 static void iwl_mvm_rx_tx_cmd_agg(struct iwl_mvm *mvm,
				  struct iwl_rx_packet *pkt)
@@ -1848,9 +1848,9 @@ static void iwl_mvm_tx_reclaim(struct iwl_mvm *mvm, int sta_id, int tid,
				WARN_ON_ONCE(tid != IWL_MAX_TID_COUNT);
		}

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
		iwl_mvm_tdls_peer_cache_pkt(mvm, hdr, skb->len, -1);
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

		/* this is the first skb we deliver in this batch */
		/* put the rate scaling data there */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/utils.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/utils.c
index 86d76145bdcc0..f1fa48a069ec5 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/utils.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/utils.c
@@ -22,7 +22,7 @@ int iwl_mvm_send_cmd(struct iwl_mvm *mvm, struct iwl_host_cmd *cmd)
 {
	int ret;

-#if defined(CPTCFG_IWLWIFI_DEBUGFS) && defined(CONFIG_PM_SLEEP)
+#if defined(CONFIG_OOT_IWLWIFI_DEBUGFS) && defined(CONFIG_PM_SLEEP)
	if (WARN_ON(mvm->d3_test_active))
		return -EIO;
 #endif
@@ -79,7 +79,7 @@ int iwl_mvm_send_cmd_status(struct iwl_mvm *mvm, struct iwl_host_cmd *cmd,

	lockdep_assert_held(&mvm->mutex);

-#if defined(CPTCFG_IWLWIFI_DEBUGFS) && defined(CONFIG_PM_SLEEP)
+#if defined(CONFIG_OOT_IWLWIFI_DEBUGFS) && defined(CONFIG_PM_SLEEP)
	if (WARN_ON(mvm->d3_test_active))
		return -EIO;
 #endif
@@ -334,7 +334,7 @@ void iwl_mvm_update_smps(struct iwl_mvm *mvm, struct ieee80211_vif *vif,
			smps_mode = IEEE80211_SMPS_DYNAMIC;
	}

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (mvmvif->smps_requests[IWL_MVM_SMPS_REQ_DBG] !=
	    IEEE80211_SMPS_AUTOMATIC)
		smps_mode = mvmvif->smps_requests[IWL_MVM_SMPS_REQ_DBG];
@@ -1134,7 +1134,7 @@ void iwl_mvm_get_sync_time(struct iwl_mvm *mvm, int clock_type,
	}
 }

-#ifdef CPTCFG_IWLMVM_VENDOR_CMDS
+#ifdef CONFIG_OOT_IWLMVM_VENDOR_CMDS
 int iwl_mvm_send_csi_cmd(struct iwl_mvm *mvm)
 {
	/*
@@ -1170,4 +1170,4 @@ int iwl_mvm_send_csi_cmd(struct iwl_mvm *mvm)

	return iwl_mvm_send_cmd_pdu(mvm, id, 0, size, &cfg);
 }
-#endif /* CPTCFG_IWLMVM_VENDOR_CMDS */
+#endif /* CONFIG_OOT_IWLMVM_VENDOR_CMDS */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/mvm/vendor-cmd.c b/drivers/net/wireless/intel-oot/iwlwifi/mvm/vendor-cmd.c
index 7a346606f8ea3..f6235adbdc7c1 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/mvm/vendor-cmd.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/mvm/vendor-cmd.c
@@ -235,7 +235,7 @@ static int iwl_mvm_set_country(struct wiphy *wiphy,
	return retval;
 }

-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
 static int iwl_vendor_tdls_peer_cache_add(struct wiphy *wiphy,
					  struct wireless_dev *wdev,
					  const void *data, int data_len)
@@ -402,7 +402,7 @@ static int iwl_vendor_tdls_peer_cache_query(struct wiphy *wiphy,

	return cfg80211_vendor_cmd_reply(skb);
 }
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */

 #define IWL_MVM_RFIM_CAPA_CNVI  (BIT(2))
 #define IWL_MVM_RFIM_CAPA_SCAN  (BIT(3))
@@ -636,7 +636,7 @@ static int iwl_vendor_set_nic_txpower_limit(struct wiphy *wiphy,
	return err;
 }

-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
 static int iwl_mvm_oppps_wa_update_quota(struct iwl_mvm *mvm,
					 struct ieee80211_vif *vif,
					 bool enable)
@@ -1839,7 +1839,7 @@ static const struct wiphy_vendor_command iwl_mvm_vendor_commands[] = {
		.policy = iwl_mvm_vendor_attr_policy,
		.maxattr = MAX_IWL_MVM_VENDOR_ATTR,
	},
-#ifdef CPTCFG_IWLMVM_TDLS_PEER_CACHE
+#ifdef CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE
	{
		.info = {
			.vendor_id = INTEL_OUI,
@@ -1873,7 +1873,7 @@ static const struct wiphy_vendor_command iwl_mvm_vendor_commands[] = {
		.policy = iwl_mvm_vendor_attr_policy,
		.maxattr = MAX_IWL_MVM_VENDOR_ATTR,
	},
-#endif /* CPTCFG_IWLMVM_TDLS_PEER_CACHE */
+#endif /* CONFIG_OOT_IWLMVM_TDLS_PEER_CACHE */
	{
		.info = {
			.vendor_id = INTEL_OUI,
@@ -1885,7 +1885,7 @@ static const struct wiphy_vendor_command iwl_mvm_vendor_commands[] = {
		.policy = iwl_mvm_vendor_attr_policy,
		.maxattr = MAX_IWL_MVM_VENDOR_ATTR,
	},
-#ifdef CPTCFG_IWLMVM_P2P_OPPPS_TEST_WA
+#ifdef CONFIG_OOT_IWLMVM_P2P_OPPPS_TEST_WA
	{
		.info = {
			.vendor_id = INTEL_OUI,
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/pcie/drv.c b/drivers/net/wireless/intel-oot/iwlwifi/pcie/drv.c
index 7c46fb9f704fe..c7231991fb6ae 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/pcie/drv.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/pcie/drv.c
@@ -35,7 +35,7 @@ extern int _invalid_type;
 /* Hardware specific file defines the PCI IDs table for that hardware module */
 static const struct pci_device_id iwl_hw_card_ids[] = {

-#if IS_ENABLED(CPTCFG_IWLMVM)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM)
 /* 7260 Series */
	{IWL_PCI_DEVICE(0x08B1, 0x4070, iwl7260_2ac_cfg)},
	{IWL_PCI_DEVICE(0x08B1, 0x4072, iwl7260_2ac_cfg)},
@@ -275,9 +275,9 @@ static const struct pci_device_id iwl_hw_card_ids[] = {
	{IWL_PCI_DEVICE(0x24FD, 0x0012, iwl8275_2ac_cfg)},
	{IWL_PCI_DEVICE(0x24FD, 0x0014, iwl8265_2ac_cfg)},
	{IWL_PCI_DEVICE(0x24FD, 0x9074, iwl8265_2ac_cfg)},
-#endif /* IS_ENABLED(CPTCFG_IWLMVM) */
+#endif /* IS_ENABLED(CONFIG_OOT_IWLMVM) */

-#if IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC)
 /* 9000 Series */
	{IWL_PCI_DEVICE(0x2526, PCI_ANY_ID, iwl9000_trans_cfg)},
	{IWL_PCI_DEVICE(0x271B, PCI_ANY_ID, iwl9000_trans_cfg)},
@@ -319,7 +319,7 @@ static const struct pci_device_id iwl_hw_card_ids[] = {

 /* Bz devices */
	{IWL_PCI_DEVICE(0x2727, PCI_ANY_ID, iwl_bz_trans_cfg)},
-#endif /* CPTCFG_IWLMVM || CPTCFG_IWLFMAC */
+#endif /* CONFIG_OOT_IWLMVM || CONFIG_OOT_IWLFMAC */

	{0}
 };
@@ -338,7 +338,7 @@ MODULE_DEVICE_TABLE(pci, iwl_hw_card_ids);
		      IWL_CFG_NO_CDB, _cfg, _name)

 static const struct iwl_dev_info iwl_dev_info_table[] = {
-#if IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC)
 /* 9000 */
	IWL_DEV_INFO(0x2526, 0x1550, iwl9260_2ac_cfg, iwl9260_killer_1550_name),
	IWL_DEV_INFO(0x2526, 0x1551, iwl9560_2ac_cfg_soc, iwl9560_killer_1550s_name),
@@ -934,7 +934,7 @@ static const struct iwl_dev_info iwl_dev_info_table[] = {
		      IWL_CFG_160, IWL_CFG_ANY, IWL_CFG_NO_CDB,
		      iwlax211_2ax_cfg_so_gf_a0, iwl_ax211_name)

-#endif /* CPTCFG_IWLMVM || CPTCFG_IWLFMAC */
+#endif /* CONFIG_OOT_IWLMVM || CONFIG_OOT_IWLFMAC */
 };

 /* PCI registers */
@@ -1022,7 +1022,7 @@ static int iwl_pci_probe(struct pci_dev *pdev, const struct pci_device_id *ent)
		}
	}

-#if IS_ENABLED(CPTCFG_IWLMVM)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM)

	/*
	 * Workaround for problematic SnJ device: sometimes when
@@ -1052,7 +1052,7 @@ static int iwl_pci_probe(struct pci_dev *pdev, const struct pci_device_id *ent)
		iwl_trans->cfg = cfg_7265d;
 #endif

-#if IS_ENABLED(CPTCFG_IWLMVM) || IS_ENABLED(CPTCFG_IWLFMAC)
+#if IS_ENABLED(CONFIG_OOT_IWLMVM) || IS_ENABLED(CONFIG_OOT_IWLFMAC)
	if (cfg == &iwlax210_2ax_cfg_so_hr_a0) {
		if (iwl_trans->hw_rev == CSR_HW_REV_TYPE_TY) {
			iwl_trans->cfg = &iwlax210_2ax_cfg_ty_gf_a0;
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/pcie/internal.h b/drivers/net/wireless/intel-oot/iwlwifi/pcie/internal.h
index 0b99f0c341116..d3dd3b089dcdb 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/pcie/internal.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/pcie/internal.h
@@ -195,7 +195,7 @@ static inline __le16 iwl_get_closed_rb_stts(struct iwl_trans *trans,
	}
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 /**
  * enum iwl_fw_mon_dbgfs_state - the different states of the monitor_data
  * debugfs file
@@ -244,7 +244,7 @@ enum iwl_image_response_code {
  *	in &iwl_fw_mon_dbgfs_state enum
  * @mutex: locked while reading from monitor_data debugfs file
  */
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 struct cont_rec {
	u32 prev_wr_ptr;
	u32 prev_wrap_cnt;
@@ -298,7 +298,7 @@ enum iwl_pcie_fw_reset_state {
  * @reg_lock: protect hw register access
  * @mutex: to protect stop_device / start_fw / start_hw
  * @cmd_in_flight: true when we have a host command in flight
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
  * @fw_mon_data: fw continuous recording data
 #endif
  * @msix_entries: array of MSI-X entries
@@ -391,7 +391,7 @@ struct iwl_trans_pcie {
	spinlock_t reg_lock;
	bool cmd_hold_nic_awake;

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	struct cont_rec fw_mon_data;
 #endif

@@ -729,7 +729,7 @@ static inline bool iwl_is_rfkill_set(struct iwl_trans *trans)
	if (trans_pcie->debug_rfkill == 1)
		return true;

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	if (trans_pcie->debug_rfkill == -1 &&
	    trans->dbg_cfg.STARTUP_RFKILL)
		return true;
@@ -744,7 +744,7 @@ static inline void __iwl_trans_pcie_set_bits_mask(struct iwl_trans *trans,
 {
	u32 v;

-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	WARN_ON_ONCE(value & ~mask);
 #endif

@@ -774,7 +774,7 @@ static inline bool iwl_pcie_dbg_on(struct iwl_trans *trans)
 void iwl_trans_pcie_rf_kill(struct iwl_trans *trans, bool state);
 void iwl_trans_pcie_dump_regs(struct iwl_trans *trans);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 void iwl_trans_pcie_dbgfs_register(struct iwl_trans *trans);
 #else
 static inline void iwl_trans_pcie_dbgfs_register(struct iwl_trans *trans) { }
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans-gen2.c b/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans-gen2.c
index c895cd7514106..15525c0c24881 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans-gen2.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans-gen2.c
@@ -10,7 +10,7 @@
 #include "internal.h"
 #include "fw/dbg.h"

-#define FW_RESET_TIMEOUT (CPTCFG_IWL_TIMEOUT_FACTOR * HZ / 5)
+#define FW_RESET_TIMEOUT (CONFIG_OOT_IWL_TIMEOUT_FACTOR * HZ / 5)

 /*
  * Start up NIC's basic functionality after it has been reset
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans.c b/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans.c
index 873fd7c21b2cc..442d9dd829f8c 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/pcie/trans.c
@@ -28,7 +28,7 @@
 #include "internal.h"
 #include "iwl-fh.h"
 #include "iwl-context-info-gen3.h"
-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
 #include "iwl-dnt-cfg.h"
 #endif

@@ -746,7 +746,7 @@ static int iwl_pcie_load_section(struct iwl_trans *trans, u8 section_num,
	return ret;
 }

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 static void iwl_pcie_override_secure_boot_cfg(struct iwl_trans *trans)
 {
	u32 val;
@@ -1029,7 +1029,7 @@ static int iwl_pcie_load_given_ucode(struct iwl_trans *trans,
	if (iwl_pcie_dbg_on(trans))
		iwl_pcie_apply_destination(trans);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_configure(trans, image);
 #endif

@@ -1053,11 +1053,11 @@ static int iwl_pcie_load_given_ucode_8000(struct iwl_trans *trans,
	if (iwl_pcie_dbg_on(trans))
		iwl_pcie_apply_destination(trans);

-#ifdef CPTCFG_IWLWIFI_DEVICE_TESTMODE
+#ifdef CONFIG_OOT_IWLWIFI_DEVICE_TESTMODE
	iwl_dnt_configure(trans, image);
 #endif

-#ifdef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifdef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
	iwl_pcie_override_secure_boot_cfg(trans);
 #endif

@@ -2488,7 +2488,7 @@ void iwl_pcie_dump_csr(struct iwl_trans *trans)
	}
 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 /* create and remove of files */
 #define DEBUGFS_ADD_FILE(name, parent, mode) do {			\
	debugfs_create_file(#name, mode, parent, trans,			\
@@ -2688,7 +2688,7 @@ static ssize_t iwl_dbgfs_interrupt_read(struct file *file,
			"\tLast Restarting Code:  0x%X\n",
			isr_stats->err_code);
	}
-#ifdef CPTCFG_IWLWIFI_DEBUG
+#ifdef CONFIG_OOT_IWLWIFI_DEBUG
	pos += scnprintf(buf + pos, bufsz - pos, "Frame transmitted:\t\t %u\n",
		isr_stats->sch);
	pos += scnprintf(buf + pos, bufsz - pos, "Alive interrupt:\t\t %u\n",
@@ -2995,7 +2995,7 @@ static void iwl_trans_pcie_debugfs_cleanup(struct iwl_trans *trans)
	data->state = IWL_FW_MON_DBGFS_STATE_DISABLED;
	mutex_unlock(&data->mutex);
 }
-#endif /*CPTCFG_IWLWIFI_DEBUGFS */
+#endif /*CONFIG_OOT_IWLWIFI_DEBUGFS */

 static u32 iwl_trans_pcie_get_cmdlen(struct iwl_trans *trans, void *tfd)
 {
@@ -3479,7 +3479,7 @@ static const struct iwl_trans_ops trans_ops_pcie = {

	.freeze_txq_timer = iwl_trans_txq_freeze_timer,
	.block_txq_ptrs = iwl_trans_pcie_block_txq_ptrs,
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	.debugfs_cleanup = iwl_trans_pcie_debugfs_cleanup,
 #endif
 };
@@ -3504,7 +3504,7 @@ static const struct iwl_trans_ops trans_ops_pcie_gen2 = {
	.rxq_dma_data = iwl_trans_pcie_rxq_dma_data,
	.set_pnvm = iwl_trans_pcie_ctx_info_gen3_set_pnvm,
	.set_reduce_power = iwl_trans_pcie_ctx_info_gen3_set_reduce_power,
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	.debugfs_cleanup = iwl_trans_pcie_debugfs_cleanup,
 #endif
 };
@@ -3656,7 +3656,7 @@ struct iwl_trans *iwl_trans_pcie_alloc(struct pci_dev *pdev,
		}
	 }

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	trans_pcie->fw_mon_data.state = IWL_FW_MON_DBGFS_STATE_CLOSED;
	mutex_init(&trans_pcie->fw_mon_data.mutex);
 #endif
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/queue/tx.c b/drivers/net/wireless/intel-oot/iwlwifi/queue/tx.c
index b3971d3227931..6c8333e57d65b 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/queue/tx.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/queue/tx.c
@@ -1703,7 +1703,7 @@ void iwl_trans_txq_freeze_timer(struct iwl_trans *trans, unsigned long txqs,
	}
 }

-#define HOST_COMPLETE_TIMEOUT	(2 * HZ * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define HOST_COMPLETE_TIMEOUT	(2 * HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 static int iwl_trans_txq_send_hcmd_sync(struct iwl_trans *trans,
					struct iwl_host_cmd *cmd)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/Makefile b/drivers/net/wireless/intel-oot/iwlwifi/xvt/Makefile
index 2153793682726..6e17fe3b58807 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/Makefile
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/Makefile
@@ -1,5 +1,5 @@
-obj-$(CPTCFG_IWLXVT)   += iwlxvt.o
+obj-$(CONFIG_OOT_IWLXVT)   += iwlxvt.o
 iwlxvt-y += xvt.o user-infc.o utils.o fw.o nvm.o rx.o
-iwlxvt-$(CPTCFG_IWLWIFI_DEBUGFS) += debugfs.o
+iwlxvt-$(CONFIG_OOT_IWLWIFI_DEBUGFS) += debugfs.o

 ccflags-y += -D__CHECK_ENDIAN__ -I$(src)/../
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/constants.h b/drivers/net/wireless/intel-oot/iwlwifi/xvt/constants.h
index 9baa7081c22e6..4be6f0b1c8057 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/constants.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/constants.h
@@ -6,16 +6,16 @@
 #ifndef __XVT_CONSTANTS_H
 #define __XVT_CONSTANTS_H

-#ifndef CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
+#ifndef CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES
 #define IWL_XVT_DEFAULT_DBGM_MEM_POWER	0
 #define IWL_XVT_DEFAULT_DBGM_LMAC_MASK	0
 #define IWL_XVT_DEFAULT_DBGM_PRPH_MASK	0

-#else /* CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
+#else /* CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
 #define IWL_XVT_DEFAULT_DBGM_MEM_POWER	(xvt->trans->dbg_cfg.XVT_DEFAULT_DBGM_MEM_POWER)
 #define IWL_XVT_DEFAULT_DBGM_LMAC_MASK	(xvt->trans->dbg_cfg.XVT_DEFAULT_DBGM_LMAC_MASK)
 #define IWL_XVT_DEFAULT_DBGM_PRPH_MASK	(xvt->trans->dbg_cfg.XVT_DEFAULT_DBGM_PRPH_MASK)

-#endif /* CPTCFG_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */
+#endif /* CONFIG_OOT_IWLWIFI_SUPPORT_DEBUG_OVERRIDES */

 #endif /* __XVT_CONSTANTS_H */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/debugfs.c b/drivers/net/wireless/intel-oot/iwlwifi/xvt/debugfs.c
index 730966bcc6a02..6520f9341609c 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/debugfs.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/debugfs.c
@@ -109,7 +109,7 @@ XVT_DEBUGFS_WRITE_FILE_OPS(fw_restart, 10);
 XVT_DEBUGFS_WRITE_FILE_OPS(fw_nmi, 10);
 XVT_DEBUGFS_WRITE_FILE_OPS(set_profile, 10);

-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 int iwl_xvt_dbgfs_register(struct iwl_xvt *xvt, struct dentry *dbgfs_dir)
 {
	xvt->debugfs_dir = dbgfs_dir;
@@ -124,4 +124,4 @@ int iwl_xvt_dbgfs_register(struct iwl_xvt *xvt, struct dentry *dbgfs_dir)
	IWL_ERR(xvt, "Can't create the xvt debugfs directory\n");
	return -ENOMEM;
 }
-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/fw.c b/drivers/net/wireless/intel-oot/iwlwifi/xvt/fw.c
index 79fbc2d1d2ea2..9c73b95209174 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/fw.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/fw.c
@@ -15,7 +15,7 @@
 #include "fw/api/power.h"
 #include "fw/pnvm.h"

-#define XVT_UCODE_ALIVE_TIMEOUT	(HZ * CPTCFG_IWL_TIMEOUT_FACTOR)
+#define XVT_UCODE_ALIVE_TIMEOUT	(HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR)

 struct iwl_xvt_alive_data {
	bool valid;
@@ -256,7 +256,7 @@ static int iwl_xvt_load_ucode_wait_alive(struct iwl_xvt *xvt,
	}

	xvt->fw_running = true;
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
	iwl_fw_set_dbg_rec_on(&xvt->fwrt);
 #endif

diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/user-infc.c b/drivers/net/wireless/intel-oot/iwlwifi/xvt/user-infc.c
index fb5ffb770c5ff..d216bf0be5efb 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/user-infc.c
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/user-infc.c
@@ -30,7 +30,7 @@
 #include "fw/img.h"
 #include "fw/pnvm.h"

-#define XVT_UCODE_CALIB_TIMEOUT (CPTCFG_IWL_TIMEOUT_FACTOR * HZ)
+#define XVT_UCODE_CALIB_TIMEOUT (CONFIG_OOT_IWL_TIMEOUT_FACTOR * HZ)
 #define XVT_SCU_BASE	(0xe6a00000)
 #define XVT_SCU_SNUM1	(XVT_SCU_BASE + 0x300)
 #define XVT_SCU_SNUM2	(XVT_SCU_SNUM1 + 0x4)
@@ -389,7 +389,7 @@ static int iwl_xvt_send_phy_cfg_cmd(struct iwl_xvt *xvt, u32 ucode_type)
		       calib_cmd_cfg->phy_cfg);

	/* ESL workaround - calibration is not allowed */
-	if (CPTCFG_IWL_TIMEOUT_FACTOR > 20) {
+	if (CONFIG_OOT_IWL_TIMEOUT_FACTOR > 20) {
		calib_cmd_cfg->calib_control.event_trigger = 0;
		calib_cmd_cfg->calib_control.flow_trigger = 0;
	}
@@ -1321,7 +1321,7 @@ static int iwl_xvt_start_tx_handler(void *data)
	if (sent_packets > 0 && !xvt->fw_error) {
		time_remain = wait_event_interruptible_timeout(xvt->tx_done_wq,
					xvt->num_of_tx_resp == sent_packets,
-					5 * HZ * CPTCFG_IWL_TIMEOUT_FACTOR);
+					5 * HZ * CONFIG_OOT_IWL_TIMEOUT_FACTOR);
		if (time_remain <= 0) {
			IWL_ERR(xvt, "Not all Tx messages were sent\n");
			if (status == 0)
diff --git a/drivers/net/wireless/intel-oot/iwlwifi/xvt/xvt.h b/drivers/net/wireless/intel-oot/iwlwifi/xvt/xvt.h
index e95edf1dfba6c..0fabb30235f7f 100644
--- a/drivers/net/wireless/intel-oot/iwlwifi/xvt/xvt.h
+++ b/drivers/net/wireless/intel-oot/iwlwifi/xvt/xvt.h
@@ -449,7 +449,7 @@ int iwl_xvt_allocate_tx_queue(struct iwl_xvt *xvt, u8 sta_id,
 void iwl_xvt_txq_disable(struct iwl_xvt *xvt);

 /* XVT debugfs */
-#ifdef CPTCFG_IWLWIFI_DEBUGFS
+#ifdef CONFIG_OOT_IWLWIFI_DEBUGFS
 int iwl_xvt_dbgfs_register(struct iwl_xvt *xvt, struct dentry *dbgfs_dir);
 #else
 static inline int iwl_xvt_dbgfs_register(struct iwl_xvt *xvt,
@@ -457,7 +457,7 @@ static inline int iwl_xvt_dbgfs_register(struct iwl_xvt *xvt,
 {
	return 0;
 }
-#endif /* CPTCFG_IWLWIFI_DEBUGFS */
+#endif /* CONFIG_OOT_IWLWIFI_DEBUGFS */

 #endif

--
2.26.3
